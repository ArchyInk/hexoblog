<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å¼€å‘ä¸€ä¸ªè‡ªå·±çš„ç»„ä»¶åº“ArchyUiï¼ˆä¸€ï¼‰</title>
      <link href="/archy-ui-01/"/>
      <url>/archy-ui-01/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æ¯•ä¸šåœ¨å…¬å¸ä¸Šç­å¿«ä¸€å¹´äº†ï¼Œç›®å‰ä¹Ÿè´Ÿè´£äº†å‡ ä¸ªé¡¹ç›®çš„å‰ç«¯ã€‚</p><p>è¿™åŠå¹´è´Ÿè´£çš„ä¸€ä¸ªæ–°é¡¹ç›®åº•ä¸‹æœ‰åæ¥ä¸ªç³»ç»Ÿï¼Œæ‰€æœ‰ç³»ç»Ÿçš„åŸºç¡€æ¡†æ¶æ˜¯æˆ‘å†™çš„ï¼Œä½†å½“æ—¶æ—¶é—´å¾ˆç´§ï¼Œå…¬å¸ä¹‹å‰ä¹Ÿæ²¡æœ‰å¥½çš„å‰ç«¯æŠ€æœ¯æ²‰æ·€ï¼Œæ‰€ä»¥æ˜¯ä»é›¶å¼€å§‹å†™çš„æ¡†æ¶ï¼Œæ²¡æœ‰ç¨³å®šç‰ˆæœ¬ï¼Œä¹Ÿæ²¡æœ‰å½¢æˆä¾èµ–åŒ…ï¼Œç”šè‡³æ²¡æœ‰æµ‹è¯•è¿‡ã€‚å¯¼è‡´åæ¥å¼€å‘åï¼ŒåŸºç¡€æ¡†æ¶æœ‰ä¿®æ”¹ï¼Œéœ€è¦æ‰€æœ‰ç³»ç»Ÿæ‰‹åŠ¨ä¿®æ”¹åŸºç¡€æ¡†æ¶çš„å†…å®¹ã€‚ç°åœ¨é¡¹ç›®å¿«ç»“æŸäº†ï¼ˆçœŸæ˜¯ä»–å¦ˆçš„ä¸€æ¬¡ç—›è‹¦çš„é¡¹ç›®ç»å†ï¼‰ã€‚å¼€å§‹æ²‰æ·€æŠ€æœ¯ï¼Œå½¢æˆç¨³å®šç‰ˆæœ¬ï¼Œå¹¶å½¢æˆæœ¬åœ°çš„npmä¾èµ–åŒ…ã€‚ä¸ä¼šå¼€æºï¼Œå› ä¸ºå¼€æºéœ€è¦ç”³è¯·ã€‚ä½†ä¼šåˆ†äº«ä¸€äº›å¼€å‘è¿‡ç¨‹ã€‚</p><h3 id="å€Ÿé‰´"><a href="#å€Ÿé‰´" class="headerlink" title="å€Ÿé‰´"></a>å€Ÿé‰´</h3><p>ä¹‹å‰ä¹Ÿçœ‹è¿‡äº†<a href="https://github.com/vueComponent/ant-design-vue/blob/next">Ant-Design-Vue</a>æºç ï¼Œç›®å‰ä¹Ÿå‡†å¤‡åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œå¼€å‘ã€‚æƒ³å®Œå…¨ä»é›¶å¼€å‘ï¼Œæ•ˆç‡ä½ä¸‹è€Œä¸”æˆ‘è¿˜æ²¡é‚£ä¸ªæ°´å¹³ã€‚</p><h3 id="è§„åˆ’"><a href="#è§„åˆ’" class="headerlink" title="è§„åˆ’"></a>è§„åˆ’</h3><ol><li>å»ºå¥½é¡¹ç›®ç»“æ„</li><li>å†™å¥½å·¥å…·</li><li>å¼€å‘ç»„ä»¶</li><li>æµ‹è¯•npmLink</li><li>å®Œæˆ</li></ol><h3 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h3><p>é¦–å…ˆç”¨<code>vue create archyui</code>æ–°å»º<code>vue3</code>é¡¹ç›®</p><p>ç„¶åæ˜¯æœ€è½»æ¾çš„å»ºé¡¹ç›®ç¯èŠ‚ï¼Œå€Ÿé‰´äº†ä¸€ä¸‹<a href="https://github.com/vueComponent/ant-design-vue/blob/next">Ant-Design-Vue</a>ï¼Œæœ€åæ˜¯è¿™æ ·çš„</p><p><img src="/images/0728_1.jpg" alt="ç›®å½•"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">assets-åŸºç¡€èµ„æº</span><br><span class="line">components-ç»„ä»¶</span><br><span class="line">docs-æ–‡æ¡£</span><br><span class="line">examples-å±•ç¤ºç»„ä»¶ï¼Œå¼€å‘ä¸­ç”¨äºç»„ä»¶è°ƒè¯•ï¼Œå¼€å‘å®Œç”¨äºç»„ä»¶åº“å±•ç¤º</span><br><span class="line">icons-å›¾æ ‡</span><br><span class="line">node_modules-ä¸‰æ–¹ä¾èµ–</span><br><span class="line">tests-æµ‹è¯•</span><br><span class="line">tools-å·¥å…·</span><br><span class="line">types-tsç±»å‹å®šä¹‰</span><br></pre></td></tr></table></figure><h3 id="å·¥å…·å¼€å‘"><a href="#å·¥å…·å¼€å‘" class="headerlink" title="å·¥å…·å¼€å‘"></a>å·¥å…·å¼€å‘</h3><p>ä¹‹å‰æŠŠAnt-designå·¥å…·çš„æºç æ‹‰å‡ºæ¥çœ‹äº†ï¼Œä¹Ÿå†™äº†è§£æï¼Œ<a href="http://archy.ink/antd-tools-1/">è¿™é‡Œ</a></p><h5 id="examples"><a href="#examples" class="headerlink" title="examples"></a>examples</h5><p>é¦–å…ˆæ˜¯æŠŠ<code>examples</code>ç”¨èµ·æ¥</p><p>å…ˆæŠŠ<code>package.json</code>,<code>scripts</code>å‘½ä»¤æ”¹ä¸€ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;example-serve&quot;: &quot;vue-cli-service serve&quot;,</span><br><span class="line">  &quot;example-build&quot;: &quot;vue-cli-service build&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>ç”¨ä½œèµ·ç¨‹åºå’Œæ‰“åŒ…</p><p>ç„¶åæ–°å»ºä¸ª<code>vue.config.js</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  pages: &#123;</span><br><span class="line">    index: &#123;</span><br><span class="line">      entry: &#x27;examples/index.js&#x27;,</span><br><span class="line">      template: &#x27;examples/index.html&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ”¹ä¸€ä¸‹<code>template</code>è·¯å¾„å’Œ<code>js</code>è·¯å¾„</p><p>è‡³äº<code>examples</code>æ–‡ä»¶å¤¹é‡Œé¢æœ‰ä»€ä¹ˆï¼Œå…¶å®æš‚æ—¶å°±æ˜¯æœ€åŸºç¡€çš„è¿è¡Œç¨‹åº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">//examples/index.html</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;</span><br><span class="line">    &lt;meta</span><br><span class="line">      http-equiv=&quot;Cache-Control&quot;</span><br><span class="line">      content=&quot;no-cache, no-store, must-revalidate&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;Pragma&quot; content=&quot;no-cache&quot; /&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;Expires&quot; content=&quot;0&quot; /&gt;</span><br><span class="line">    &lt;title&gt;Archy UI&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; href=&quot;./favicon.ico&quot; /&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line"></span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;noscript&gt;</span><br><span class="line">      &lt;strong&gt;JSåŠ è½½å¤±è´¥&lt;/strong&gt;</span><br><span class="line">    &lt;/noscript&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot; style=&quot;padding: 50px&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//examples/App.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;Archy UI&lt;/div&gt;</span><br><span class="line">  &lt;HelloWorld /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; Options, Vue &#125; from &quot;vue-class-component&quot;;</span><br><span class="line">import &#123; HelloWorld &#125; from &quot;../components&quot;;</span><br><span class="line"></span><br><span class="line">@Options(&#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    HelloWorld,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">export default class App extends Vue &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot;&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//examples/index.js</span><br><span class="line">import &#123; createApp, version &#125; from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line">const pkg = require(&#x27;../package.json&#x27;)</span><br><span class="line"></span><br><span class="line">console.log(&#x27;Vue version:&#x27; + version)</span><br><span class="line">console.log(&#x27;Archy UI version:&#x27; + pkg.version);</span><br><span class="line"></span><br><span class="line">const app = createApp(App)</span><br><span class="line"></span><br><span class="line">app.mount(&#x27;#app&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœ€åæ‰§è¡Œ</p><p><code>yarn example-server</code></p><p>æˆåŠŸè¿è¡Œ</p><p><img src="/images/0728_2.jpg" alt="ç•Œé¢"></p><h5 id="jestæµ‹è¯•"><a href="#jestæµ‹è¯•" class="headerlink" title="jestæµ‹è¯•"></a>jestæµ‹è¯•</h5><p>ä»¥å‰æ²¡ç”¨è¿‡å•å…ƒæµ‹è¯•ï¼Œè¿™æ¬¡å­¦ä¹ ä¸€ä¸‹</p><p>ä½†é‡åˆ°äº†ä¸ªé—®é¢˜</p><p><code>import &#123; shallowMount &#125; from &#39;@vue/test-utils&#39;</code></p><p>è¿™å¥è¯ä¸€ç›´æŠ¥é”™<code>æ‰¾ä¸åˆ°æ¨¡å—â€œ@vue/test-utilsâ€æˆ–å…¶ç›¸åº”çš„ç±»å‹å£°æ˜</code></p><p>æ’æŸ¥äº†ä¸€ä¸‹ï¼Œå‘ç°<code>@vue/test-utils``2.0.0-rc.11</code>ä¸çŸ¥é“ä¸ºä»€ä¹ˆ<code>dist</code>é‡Œé¢æ²¡æœ‰ç±»å‹å£°æ˜æ–‡ä»¶äº†</p><p><code>package.json</code>é‡Œé¢å›ºå®šäº†ä¸€ä¸‹ç‰ˆæœ¬<code>&quot;@vue/test-utils&quot;: &quot;2.0.0-rc.10&quot;</code>å°±å¯ä»¥äº†</p><p>é¡ºä¾¿<code>package.json</code>é‡Œé¢æŠŠå‘½ä»¤åŠ äº†<code>&quot;test:unit&quot;: &quot;vue-cli-service test:unit&quot;</code></p><p>ç„¶åè¾“å…¥<code>yarn test:unit example</code></p><p><img src="/images/0728_3.jpg" alt="æµ‹è¯•æˆåŠŸ"></p><h5 id="å‘½ä»¤è¡Œå·¥å…·å¼€å‘"><a href="#å‘½ä»¤è¡Œå·¥å…·å¼€å‘" class="headerlink" title="å‘½ä»¤è¡Œå·¥å…·å¼€å‘"></a>å‘½ä»¤è¡Œå·¥å…·å¼€å‘</h5><p>å…ˆä¸‰è¿</p><p><code>yarn add colorful --dev</code></p><p><code>yarn add gulp --dev</code></p><p><code>yarn add commander --dev</code></p><p>ä¸‰ä¸ªå·¥å…·ä¹‹å‰éƒ½æ˜¯ä»‹ç»è¿‡çš„</p><p><a href="http://archy.ink/colorful/">colorful</a></p><p><a href="http://archy.ink/gulp/">gulp</a></p><p><a href="http://archy.ink/commander/">commander</a></p><p>é¡ºä¾¿å†ä»‹ç»ä¸€ä¸ª<a href="https://patorjk.com/software/taag/">ç‚«é…·çš„ä¸œè¥¿</a>,ç”ŸæˆBannerï¼Œåƒè¿™æ ·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">                     .__                .__ </span><br><span class="line">_____ _______   ____ |  |__ ___.__.__ __|__|</span><br><span class="line">\__  \\_  __ \_/ ___\|  |  &lt;   |  |  |  \  |</span><br><span class="line"> / __ \|  | \/\  \___|   Y  \___  |  |  /  |</span><br><span class="line">(____  /__|    \___  &gt;___|  / ____|____/|__|</span><br><span class="line">     \/            \/     \/\/              </span><br></pre></td></tr></table></figure><p>å…ˆæ¥ä¸ªå¸®åŠ©å‘½ä»¤</p><p>åœ¨<code>package.json</code>é‡Œé¢åŠ ä¸¤ä¸ªè„šæœ¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;tools&quot;: &quot;node tools/cli/index.js&quot;,</span><br><span class="line">&quot;ui-help&quot;: &quot;node tools/cli/help.js&quot;</span><br></pre></td></tr></table></figure><p>å»ºä¸€ä¸ªå¯¹è±¡<code>_scripts</code>ç”¨æ¥å­˜å‚¨å¸®åŠ©ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&quot;_scripts&quot;: &#123;</span><br><span class="line">  &quot;example-serve&quot;: &quot;run example serve,use for developing debug and show components after finished &quot;,</span><br><span class="line">  &quot;example-build&quot;: &quot;build example for show components page&quot;,</span><br><span class="line">  &quot;test:unit&quot;: &quot;unit test&quot;,</span><br><span class="line">  &quot;tools&quot;: &quot;run tools,the source code path is /tools/&quot;,</span><br><span class="line">  &quot;ui-help&quot;: &quot;run ui help&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨<code>tools</code>ä¸‹æ–°å»º<code>cli/index.js</code>å’Œ<code>cli/help.js</code></p><p>æ²¡ä»€ä¹ˆå¥½è®²çš„ï¼Œç›´æ¥ä¸Šä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line"> * @Author: Archy</span><br><span class="line"> * @Date: 2021-07-28 16:05:16</span><br><span class="line"> * @LastEditors: Archy</span><br><span class="line"> * @LastEditTime: 2021-07-28 16:31:02</span><br><span class="line"> * @FilePath: \archyui\tools\cli\help.js</span><br><span class="line"> * @description:</span><br><span class="line"> */</span><br><span class="line">&#x27;use strict&#x27;</span><br><span class="line"></span><br><span class="line">require(&#x27;colorful&#x27;).colorful()</span><br><span class="line">require(&#x27;colorful&#x27;).isatty = true</span><br><span class="line">const program = require(&#x27;commander&#x27;)</span><br><span class="line">const pkg = require(&#x27;../../package.json&#x27;)</span><br><span class="line"></span><br><span class="line">program.version(</span><br><span class="line">  `</span><br><span class="line">  version:$&#123;pkg.version.to.bold.blue.color&#125;</span><br><span class="line">  `,</span><br><span class="line">  &#x27;-v, --version&#x27;,</span><br><span class="line">  `display current $&#123;&#x27;ArchyUI&#x27;.to.bold.blue.color&#125; version`</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">program.addHelpText(&#x27;beforeAll&#x27;, `</span><br><span class="line">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—</span><br><span class="line">â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘</span><br><span class="line">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘</span><br><span class="line">â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘</span><br><span class="line">â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘</span><br><span class="line">â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â•â•šâ•â•  â•šâ•â•   â•šâ•â•    â•šâ•â•â•â•â•â• â•šâ•â•</span><br><span class="line"></span><br><span class="line">`.to.bold.blue.color)</span><br><span class="line">program.name(&#x27;yarn or npm run&#x27;).usage(&#x27;[scripts] options&#x27;)</span><br><span class="line">program.helpOption(false)</span><br><span class="line"></span><br><span class="line">Object.entries(pkg._scripts).forEach((item) =&gt; &#123;</span><br><span class="line">  program.option(item[0], item[1])</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">program.parse(process.argv)</span><br><span class="line"></span><br><span class="line">const proc = program.runningCommand</span><br><span class="line"></span><br><span class="line">if (proc) &#123;</span><br><span class="line">  proc.on(&#x27;close&#x27;, process.exit.bind(process))</span><br><span class="line">  proc.on(&#x27;error&#x27;, () =&gt; &#123;</span><br><span class="line">    process.exit(1)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">program.help()</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line"> * @Author: Archy</span><br><span class="line"> * @Date: 2021-07-28 14:32:12</span><br><span class="line"> * @LastEditors: Archy</span><br><span class="line"> * @LastEditTime: 2021-07-28 16:26:44</span><br><span class="line"> * @FilePath: \archyui\tools\cli\index.js</span><br><span class="line"> * @description: </span><br><span class="line"> */</span><br><span class="line">&#x27;use strict&#x27;</span><br><span class="line"></span><br><span class="line">require(&#x27;colorful&#x27;).colorful()</span><br><span class="line">require(&#x27;colorful&#x27;).isatty = true</span><br><span class="line">const program = require(&#x27;commander&#x27;)</span><br><span class="line">const pkg = require(&#x27;../../package.json&#x27;)</span><br><span class="line"></span><br><span class="line">program.version(</span><br><span class="line">  `</span><br><span class="line">  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—</span><br><span class="line">  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘</span><br><span class="line">  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘</span><br><span class="line">  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘</span><br><span class="line">  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘</span><br><span class="line">  â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â•â•šâ•â•  â•šâ•â•   â•šâ•â•    â•šâ•â•â•â•â•â• â•šâ•â•</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  version:$&#123;pkg.version.to.bold.blue.color&#125;</span><br><span class="line">  `,</span><br><span class="line">  &#x27;-v, --version&#x27;,</span><br><span class="line">  `display current $&#123;&#x27;ArchyUi&#x27;.to.bold.blue.color&#125; version`</span><br><span class="line">)</span><br><span class="line">program.option(&#x27;-h, --help&#x27;, `display $&#123;&#x27;help&#x27;.to.bold.blue.color&#125; for command`)</span><br><span class="line"></span><br><span class="line">program.addHelpText(</span><br><span class="line">  &#x27;beforeAll&#x27;,</span><br><span class="line">  &#x27;âœ‚  ArchyUI Tools&#x27;.to.bold.blue.color,</span><br><span class="line">)</span><br><span class="line">program.name(&#x27;&lt;yarn tools|npm run tools&gt;&#x27;)</span><br><span class="line">program.parse(process.argv)</span><br><span class="line">const proc = program.runningCommand</span><br><span class="line"></span><br><span class="line">if (proc) &#123;</span><br><span class="line">  proc.on(&#x27;close&#x27;, process.exit.bind(process))</span><br><span class="line">  proc.on(&#x27;error&#x27;, () =&gt; &#123;</span><br><span class="line">    process.exit(1)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const subCmd = program.args[0]</span><br><span class="line">if (!subCmd) &#123;</span><br><span class="line">  program.help()</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong></p><p>å…³äº<code>banner</code>è¦æ³¨æ„çš„æ˜¯</p><p><code>\</code>è¦ç”¨<code>\\</code>ä»£æ›¿ï¼Œä¸ç„¶æ— æ³•æ˜¾ç¤º</p><p>é‡Œé¢æ¶‰åŠåˆ°å¾ˆå¤š<code>commander</code>    çš„æ–¹æ³•ï¼Œä¸æ‡‚çš„è¯å»ºè®®å»çœ‹æ–‡æ¡£<a href="https://github.com/tj/commander.js/blob/master/Readme_zh-CN.md">Commander.js</a>å†™å¾—å¾ˆæ¸…æ¥š</p><p>æµ‹è¯•ä¸€ä¸‹ï¼Œåœ¨æ ¹ç›®å½•è¾“å…¥<code>yarn ui-help</code></p><p><img src="/images/0728_4.jpg" alt="1"></p><p>è¾“å…¥<code>yarn tools</code></p><p><img src="/images/0728_5.jpg" alt="1"></p>]]></content>
      
      
      
        <tags>
            
            <tag> ArchyUIï¼Œå‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>antd-toolsè¯¦è§£ï¼ˆå››ï¼‰</title>
      <link href="/antd-tools-4/"/>
      <url>/antd-tools-4/</url>
      
        <content type="html"><![CDATA[<p>ä¸Šåˆè°ƒä¼‘åŠå¤©ã€‚</p><hr><p>ç›´æ¥æ¥çœ‹<code> &quot;pub&quot;: &quot;node --max_old_space_size=8192 antd-tools/cli/run.js pub&quot;</code>è¿™å¥å‘½ä»¤çš„ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(</span><br><span class="line">  &#x27;pub&#x27;,</span><br><span class="line">  gulp.series(&#x27;check-git&#x27;, &#x27;compile&#x27;, &#x27;dist&#x27;, done =&gt; &#123;</span><br><span class="line">    // if (!process.env.GITHUB_TOKEN) &#123;</span><br><span class="line">    //   console.log(&#x27;no GitHub token found, skip&#x27;);</span><br><span class="line">    // &#125; else &#123;</span><br><span class="line">    //   pub(done);</span><br><span class="line">    // &#125;</span><br><span class="line">    pub(done);</span><br><span class="line">  &#125;),</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>æŒ‰é¡ºåºæ‰§è¡Œ<code>check-git</code>,<code>compile</code>å’Œ<code>dist</code>ä¸‰ä¸ªä»»åŠ¡</p><p><code>compile</code>å’Œ<code>dist</code>å·²ç»çœ‹è¿‡äº†</p><p>ç›´æ¥çœ‹<code>check-git</code>çœ‹è¯­ä¹‰åº”è¯¥æ˜¯<code>git</code>éªŒè¯ç›¸å…³</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(</span><br><span class="line">  &#x27;check-git&#x27;,</span><br><span class="line">  gulp.series(done =&gt; &#123;</span><br><span class="line">    runCmd(&#x27;git&#x27;, [&#x27;status&#x27;, &#x27;--porcelain&#x27;], (code, result) =&gt; &#123;</span><br><span class="line">      if (/^\?\?/m.test(result)) &#123;</span><br><span class="line">        return done(`There are untracked files in the working tree.\n$&#123;result&#125;</span><br><span class="line">      `);</span><br><span class="line">      &#125;</span><br><span class="line">      if (/^([ADRM]| [ADRM])/m.test(result)) &#123;</span><br><span class="line">        return done(`There are uncommitted changes in the working tree.\n$&#123;result&#125;</span><br><span class="line">      `);</span><br><span class="line">      &#125;</span><br><span class="line">      return done();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;),</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œäº†<code>runCmd</code>æ–¹æ³•ï¼Œçœ‹èµ·æ¥åƒæ˜¯æ‰§è¡Œå‘½ä»¤è¡Œå‘½ä»¤çš„æ–¹æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function runCmd(cmd, _args, fn) &#123;</span><br><span class="line">  const args = _args || [];</span><br><span class="line">  const runner = require(&#x27;child_process&#x27;).spawn(cmd, args, &#123;</span><br><span class="line">    // keep color</span><br><span class="line">    stdio: &#x27;inherit&#x27;,</span><br><span class="line">    env: getRunCmdEnv(),</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  runner.on(&#x27;close&#x27;, code =&gt; &#123;</span><br><span class="line">    if (fn) &#123;</span><br><span class="line">      fn(code);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ‰äº›çŸ¥è¯†ç›²åŒºï¼ŒæŸ¥ä¸€ä¸‹</p><blockquote><p><code>child_process.spawn(command[, args][, options])</code></p><p><strong>commandï¼š</strong> å°†è¦è¿è¡Œçš„å‘½ä»¤</p><p><strong>argsï¼š</strong> Array å­—ç¬¦ä¸²å‚æ•°æ•°ç»„</p><p><strong>options Object</strong></p><ul><li><code>cwd</code> <code>String</code> å­è¿›ç¨‹çš„å½“å‰å·¥ä½œç›®å½•</li><li><code>env</code> <code>Object</code> ç¯å¢ƒå˜é‡é”®å€¼å¯¹</li><li><code>stdio</code> <code>Array|String</code> å­è¿›ç¨‹çš„ <code>stdio</code> é…ç½®</li><li><code>detached</code> <code>Boolean</code> è¿™ä¸ªå­è¿›ç¨‹å°†ä¼šå˜æˆè¿›ç¨‹ç»„çš„é¢†å¯¼</li><li><code>uid</code> <code>Number</code> è®¾ç½®ç”¨æˆ·è¿›ç¨‹çš„ ID</li><li><code>gid</code> <code>Number</code> è®¾ç½®è¿›ç¨‹ç»„çš„ ID</li></ul></blockquote><p><code>options</code>é‡Œé¢<code>stdio</code>ä¼ å…¥äº†<code>inherit</code>,ç›¸å½“äºå­è¿›ç¨‹å°†ä½¿ç”¨çˆ¶è¿›ç¨‹çš„æ ‡å‡†è¾“å…¥è¾“å‡ºã€‚</p><p>å…¶ä»–å‚æ•°è¿˜æœ‰</p><blockquote><p><code>options.stdio</code> é€‰é¡¹ç”¨äºé…ç½®åœ¨çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹ä¹‹é—´å»ºç«‹çš„ç®¡é“ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå­è¿›ç¨‹çš„æ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯è¢«é‡å®šå‘åˆ° <code>ChildProcess</code>å¯¹è±¡ä¸Šç›¸åº”çš„ <code>subprocess.stdin</code>ã€<code>subprocess.stdout</code> å’Œ <code>subprocess.stderr</code>æµã€‚ è¿™ç›¸å½“äºå°† <code>options.stdio</code> è®¾ç½®ä¸ºç­‰äº <code>[&#39;pipe&#39;, &#39;pipe&#39;, &#39;pipe&#39;]</code>ã€‚</p><p>ä¸ºæ–¹ä¾¿èµ·è§ï¼Œ<code>options.stdio</code> å¯èƒ½æ˜¯ä»¥ä¸‹å­—ç¬¦ä¸²ä¹‹ä¸€ï¼š</p><ul><li><code>&#39;pipe&#39;</code>: ç›¸å½“äº <code>[&#39;pipe&#39;, &#39;pipe&#39;, &#39;pipe&#39;]</code>ï¼ˆé»˜è®¤ï¼‰</li><li><code>&#39;overlapped&#39;</code>: ç›¸å½“äº <code>[&#39;overlapped&#39;, &#39;overlapped&#39;, &#39;overlapped&#39;]</code></li><li><code>&#39;ignore&#39;</code>: ç›¸å½“äº <code>[&#39;ignore&#39;, &#39;ignore&#39;, &#39;ignore&#39;]</code></li><li><code>&#39;inherit&#39;</code>: ç›¸å½“äº <code>[&#39;inherit&#39;, &#39;inherit&#39;, &#39;inherit&#39;]</code> æˆ– <code>[0, 1, 2]</code></li></ul></blockquote><p><a href="http://nodejs.cn/api/child_process.html#child_process_event_spawn">å‚è€ƒ</a></p><p><code>env</code>ä¼ å…¥äº†<code>getRunCmdEnv()</code></p><p>ç ”ç©¶ä¸€ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">module.exports = function getRunCmdEnv() &#123;</span><br><span class="line">  const env = &#123;&#125;;</span><br><span class="line">  Object.keys(process.env).forEach(key =&gt; &#123;</span><br><span class="line">    env[key] = process.env[key];</span><br><span class="line">  &#125;);</span><br><span class="line">  // make sure `antd-tools/node_modules/.bin` in the PATH env</span><br><span class="line">  const nodeModulesBinDir = path.join(__dirname, &#x27;../../node_modules/.bin&#x27;);</span><br><span class="line"></span><br><span class="line">  Object.entries(env)</span><br><span class="line">    .filter(</span><br><span class="line">      v =&gt;</span><br><span class="line">        v</span><br><span class="line">          .slice(0, 1)</span><br><span class="line">          .pop()</span><br><span class="line">          .toLowerCase() === &#x27;path&#x27;,</span><br><span class="line">    )</span><br><span class="line">    .forEach(v =&gt; &#123;</span><br><span class="line">      const key = v.slice(0, 1).pop();</span><br><span class="line">      env[key] = env[key] ? `$&#123;nodeModulesBinDir&#125;:$&#123;env[key]&#125;` : nodeModulesBinDir;</span><br><span class="line">    &#125;);</span><br><span class="line">  return env;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¯¹<code>env</code>è¿›è¡Œäº†ä¿®æ”¹ï¼Œç¡®ä¿<code>antd-tools/node_modules/.bin</code>åœ¨ç¯å¢ƒå˜é‡ä¸­ï¼Œä½†åªåœ¨è¿™ä¸ªè¿›ç¨‹é‡Œæœ‰ç”¨ã€‚</p><p>æ²¡å•¥å¥½çœ‹çš„ï¼Œå…·ä½“å®ç°å°±æ˜¯ä¸€å †é«˜é˜¶å‡½æ•°ã€‚</p><p>å›åˆ°<code>check-git</code>ï¼Œå®è´¨å°±æ˜¯æ‰§è¡Œäº†<code>git status --porcelain</code>å‘½ä»¤ï¼Œå°±æ˜¯å±•ç¤ºæ”¹åŠ¨çŠ¶æ€ã€‚</p><p>ä½†æ˜¯<code>pub</code>å‘½ä»¤å®è´¨å°±æ˜¯ç¼–è¯‘å¹¶æ‰“åŒ…ï¼Œæœ€åæ‰§è¡Œ<code>pub</code>æ–¹æ³•ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">function pub(done) &#123;</span><br><span class="line">  const notOk = !packageJson.version.match(/^\d+\.\d+\.\d+$/);</span><br><span class="line">  let tagString;</span><br><span class="line">  if (argv[&#x27;npm-tag&#x27;]) &#123;</span><br><span class="line">    tagString = argv[&#x27;npm-tag&#x27;];</span><br><span class="line">  &#125;</span><br><span class="line">  if (!tagString &amp;&amp; notOk) &#123;</span><br><span class="line">    tagString = &#x27;next&#x27;;</span><br><span class="line">  &#125;</span><br><span class="line">  if (packageJson.scripts[&#x27;pre-publish&#x27;]) &#123;</span><br><span class="line">    runCmd(&#x27;npm&#x27;, [&#x27;run&#x27;, &#x27;pre-publish&#x27;], code2 =&gt; &#123;</span><br><span class="line">      if (code2) &#123;</span><br><span class="line">        done(code2);</span><br><span class="line">        return;</span><br><span class="line">      &#125;</span><br><span class="line">      publish(tagString, done);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    publish(tagString, done);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è°ƒç”¨äº†<code>guard</code>ä»»åŠ¡ï¼Œå…¶å®æ˜¯ä¸€ä¸ªé”™è¯¯è­¦æŠ¥</p><p>ç„¶åè°ƒç”¨<code>publish</code>çœŸæ­£çš„å‘å¸ƒæ–¹æ³•ï¼Œå…¶ä¸­åˆè°ƒç”¨äº†<code>tag</code>æ–¹æ³•ï¼Œå‘å¸ƒé…ç½®ï¼ŒåŒ…æ‹¬é‚®ç®±åœ°å€ç­‰ç­‰å’Œæ‰§è¡Œ<code>gitpush</code>å‘½ä»¤ï¼Œè¿˜æœ‰<code>githubRelease</code>æ–¹æ³•ï¼Œåº”è¯¥æ˜¯å¼€æºä¿¡æ¯ï¼Œä¸æ˜¯å¾ˆæ‡‚ï¼Œéå¸¸çš„è¯¦å°½ã€‚</p><p><strong>ä½†æˆ‘åº”è¯¥ä¸ä¼šç”¨ã€‚</strong></p><hr><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œ<code>antd-tools</code>æºç å°±çœ‹å®Œäº†ï¼Œå…·ä½“å¯èƒ½ä¼šç”¨åˆ°çš„å…¶å®å°±æ˜¯<code>compile</code>å’Œ<code>dist</code>ï¼Œå…¶ä»–çš„<code>publish</code>è¦ç”¨ä¹Ÿä¼šæ”¹ç®€å•ä¸€ç‚¹ï¼Œæ¯•ç«Ÿæˆ‘åªæ˜¯ä¸€ä¸ªäººï¼Œå¹¶ä¸éœ€è¦å¤§å…¬å¸é‚£ç§å›¢é˜Ÿåä½œå¿…éœ€çš„è¯¦å°½æµç¨‹ã€‚</p><p><code>generator-webtypes</code>æ˜¯ä¸ªæ¯”è¾ƒæ–¹ä¾¿çš„åŠŸèƒ½ï¼Œå¯èƒ½ä¼šå†™ä¸€ä¸ª<code>vscode</code>ç‰ˆæœ¬çš„ã€‚</p><p>ä¸»è¦æ˜¯å­¦ä¹ äº†å†™å‘½ä»¤è¡Œå·¥å…·çš„æ–¹æ³•ï¼Œå­¦ä¹ äº†å¾ˆå¤šçŸ¥è¯†ï¼Œæ”¶ç›Šé¢‡ä¸°(<em>^â–½^</em>)</p><p><code>Ant-Tools</code>å®Œç»“ï¼Œæ¥ä¸‹æ¥çœ‹ä¸‹<code>ant-design</code>çš„ç»“æ„ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> AntDesignVueæºç å­¦ä¹  </tag>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> node </tag>
            
            <tag> Ant-tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>antd-toolsè¯¦è§£ï¼ˆä¸‰ï¼‰</title>
      <link href="/antd-tools-3/"/>
      <url>/antd-tools-3/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘çªç„¶å‘ç°</p><p><code>&quot;generator-webtypes&quot;: &quot;tsc -p antd-tools/generator-types/tsconfig.json &amp;&amp; node antd-tools/generator-types/index.js&quot;</code></p><p>è¿™ä¸ªå·¥å…·å¹¶ä¸æ˜¯ä½¿ç”¨çš„<code>gulp</code>è¿›è¡Œçš„ä»»åŠ¡ï¼Œå…ˆçœ‹ä¸€ä¸‹</p><h3 id="generator-webtypes"><a href="#generator-webtypes" class="headerlink" title="generator-webtypes"></a>generator-webtypes</h3><p>çœ‹äº†ä¸‹ç«Ÿç„¶æ˜¯æ ¹æ®æ–‡æ¡£ç”ŸæˆJetBrainsä»£ç æç¤ºçš„</p><p>ç”¨æ³•è¿˜æŒºå¤æ‚ï¼Œè¿˜æ²¡æ‰¾åˆ°æ–‡æ¡£ï¼Œåªæœ‰è‡ªå·±çœ‹äº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">parseAndWrite(&#123;</span><br><span class="line">  version: pkg.version,</span><br><span class="line">  name: &#x27;types&#x27;,</span><br><span class="line">  path: path.resolve(rootPath, &#x27;./v2-doc/src/docs&#x27;),</span><br><span class="line">  // default match lang</span><br><span class="line">  test: /index\.md/,</span><br><span class="line">  outputDir: path.resolve(rootPath, &#x27;./vetur&#x27;), </span><br><span class="line">  tagPrefix: &#x27;a-&#x27;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è°ƒç”¨æ˜¯è¿™ä¹ˆè°ƒç”¨çš„ï¼Œ<code>test</code>åŒ¹é…è§„åˆ™æˆ‘æ”¹æˆäº†<code>index.md</code>ï¼ŒåŸæ¥æ˜¯<code>es-US.md</code></p><p><code>async function readMarkdown(options: Options)</code></p><p>å…ˆè¯»å–markdownæ–‡æ¡£</p><p>ä¸Šé¢çš„è°ƒç”¨çš„æ–¹æ³•çš„è¯ï¼Œé‚£å°±å¾—åœ¨<code>./v2-doc/src/docs</code>é‡Œé¢æ”¾æ–‡æ¡£</p><p>ç„¶åformatterä¸€ä¸‹</p><p>formatteræ–¹æ³•é‡Œé¢åšäº†ä¸€ä¸‹å‡ ä»¶äº‹</p><ol><li>å¹¶ä¸”æ ¹æ®æ–‡ä»¶åç”Ÿæˆç»„ä»¶åï¼Œä»–ä¼šç›´æ¥æŠŠçŸ­æ¨ªçº¿åˆ é™¤å¹¶ä¸”æŠŠé©¼å³°å¼è½¬ä¸ºå‰ç¼€åŠ çŸ­æ¨ªçº¿æ¨¡å¼</li><li>æ£€ç´¢æ–‡ä»¶ä¸­çš„tableï¼Œæ ¹æ®tableåç§°æ¥å†³å®šæ”¾åœ¨é‚£ä¸ªæ•°ç»„é‡Œ</li><li>å¦‚æœtableåç§°æ˜¯APIï¼Œå¹¶ä¸”é‡Œé¢åŒ…å«äº†æ’æ§½ï¼ˆslotç­‰)å­—æ®µï¼Œä¼šæŠŠè¿™ä¸€è¡Œä¿¡æ¯æ”¾è¿›ï¼Œslots[]</li><li>å¦‚æœtableåç§°æ˜¯APIï¼Œä½†æ²¡æœ‰åŒ…å«slotï¼Œåˆ™æ”¾è¿›attributes[]</li><li>å¦‚æœtableåç§°æ˜¯eventsï¼Œä¼šæŠŠäº‹ä»¶æ”¾è¿›ï¼Œevents[]</li><li>å¦‚æœtableåç§°é‡Œé¢åŒ…å«äº†ç»„ä»¶åç§°ï¼Œå¹¶ä¸”ä¸æ˜¯eventsï¼Œåˆ™è¯´æ˜æ˜¯é¢å¤–çš„å­ç»„ä»¶ï¼Œåˆ™æ‰§è¡Œä¸Šé¢çš„æ‰€æœ‰æµç¨‹</li></ol><p>æŒºå¤æ‚çš„ï¼Œä½†æ„å¤–çš„è§‰å¾—å¥½ç”¨ï¼Œå¦‚æœæˆ‘ä¸æ˜¯ä¸ªvscodeå¿ å®ç”¨æˆ·çš„è¯ã€‚</p><p>æƒ³ç»™vscodeå†™ä¸€ä¸ªäº†ã€‚</p><p>å°±è¿™ä¹ˆæ„‰å¿«åœ°å†³å®šäº†ã€‚</p><hr><p>å‘¨æœ«å•¦ï¼Œä¸‹ç­å•¦ 2021/7/23 17:37</p><hr><p>2021/7/26 13:45</p><hr><p>ç ”ç©¶äº†ä¸€ä¸‹ï¼Œvscodeæ ¹æ®mdç”Ÿæˆæç¤ºä»£ç çš„å®ç°å¹¶ä¸éš¾ï¼Œvscodeæœ‰å½“å‰é¡¹ç›®æç¤ºä»£ç çš„é…ç½®æ–‡ä»¶ã€‚</p><p>.vscode -&gt; XXX-g.code-snippetsã€‚</p><p>æ ¹æ®mdç”Ÿæˆç›¸åº”è¯­æ³•çš„è¿™ä¸ªæ–‡ä»¶å°±è¡Œäº†ã€‚æŠŠç»„ä»¶åº“å†™å®Œäº†å†æ¥å¼„è¿™ä¸ªã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> AntDesignVueæºç å­¦ä¹  </tag>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> node </tag>
            
            <tag> Ant-tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>antd-toolsè¯¦è§£ï¼ˆäºŒï¼‰</title>
      <link href="/antd-tools-2/"/>
      <url>/antd-tools-2/</url>
      
        <content type="html"><![CDATA[<h3 id="dist"><a href="#dist" class="headerlink" title="dist"></a>dist</h3><p>è¶çƒ­æ‰“é“ï¼Œç›´æ¥çœ‹æ‰“åŒ…çš„ä»£ç å§</p><p><code>&quot;dist&quot;: &quot;node --max_old_space_size=8192 antd-tools/cli/run.js dist&quot;,</code></p><p>ä¹Ÿå°±æ˜¯è¿™ä¸ªå‘½ä»¤</p><p><code>gulp</code>æ‰§è¡Œ<code>dist</code>ä»»åŠ¡ï¼Œåœ¨<code>antd-tools\gulpfile.js</code>é‡Œé¢æ‰¾åˆ°<code>dist</code>ä»»åŠ¡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(</span><br><span class="line">  &#x27;dist&#x27;,</span><br><span class="line">  gulp.series(done =&gt; &#123;</span><br><span class="line">    dist(done);</span><br><span class="line">  &#125;),</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰åšå…¶ä»–äº‹æƒ…ï¼Œå°±æ˜¯å•çº¯è°ƒç”¨<code>dist</code>æ–¹æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">function dist(done) &#123;</span><br><span class="line">  rimraf.sync(path.join(cwd, &#x27;dist&#x27;));</span><br><span class="line">  process.env.RUN_ENV = &#x27;PRODUCTION&#x27;;</span><br><span class="line">  const webpackConfig = require(getProjectPath(&#x27;webpack.build.conf.js&#x27;));</span><br><span class="line">  webpack(webpackConfig, (err, stats) =&gt; &#123;</span><br><span class="line">    if (err) &#123;</span><br><span class="line">      console.error(err.stack || err);</span><br><span class="line">      if (err.details) &#123;</span><br><span class="line">        console.error(err.details);</span><br><span class="line">      &#125;</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const info = stats.toJson();</span><br><span class="line"></span><br><span class="line">    if (stats.hasErrors()) &#123;</span><br><span class="line">      console.error(info.errors);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (stats.hasWarnings()) &#123;</span><br><span class="line">      console.warn(info.warnings);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const buildInfo = stats.toString(&#123;</span><br><span class="line">      colors: true,</span><br><span class="line">      children: true,</span><br><span class="line">      chunks: false,</span><br><span class="line">      modules: false,</span><br><span class="line">      chunkModules: false,</span><br><span class="line">      hash: false,</span><br><span class="line">      version: false,</span><br><span class="line">    &#125;);</span><br><span class="line">    console.log(buildInfo);</span><br><span class="line">    done(0);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰“åŒ…è°ƒç”¨çš„å°±æ˜¯<code>webpack</code>çš„æ–¹æ³•äº†</p><p>ä½†åˆ«ä»¥ä¸ºå°±æ˜¯è¿™ä¹ˆä¸€å°æ®µ</p><p><code>webpackConfig</code>Ant-toolså¯æ˜¯å¯¹å…¶è¿›è¡Œäº†å¤§é‡çš„å¤„ç†</p><p>æˆ‘åªæŠŠå…¶ä¸­éœ€è¦æ³¨æ„çš„è¯´ä¸€ä¸‹</p><h5 id="webpack-build-conf-js"><a href="#webpack-build-conf-js" class="headerlink" title="webpack.build.conf.js"></a>webpack.build.conf.js</h5><p>åœ¨<code>webpack.build.conf.js</code>ä¸­</p><p>ä¸€ä¸Šæ¥å°±æœ‰ä¸ªæ³¨é‡Š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// noParse still leave `require(&#x27;./locale&#x27; + name)` in dist files</span><br><span class="line">// ignore is better</span><br><span class="line">// http://stackoverflow.com/q/25384360</span><br></pre></td></tr></table></figure><p>æˆ‘çœ‹äº†ä¸‹sfï¼Œå¤§æ„æ˜¯æŒ‡webpackç»™momentæ‰“åŒ…ä¼šæŠŠæ‰€æœ‰è¯­è¨€æ–‡ä»¶æ‰“åŒ…è¿›å»ï¼Œå¤§å¤§å¢åŠ åŒ…ä½“ç§¯ã€‚</p><p>æ‰€ä»¥æœ€å¥½ç”¨<code>ignorePlugin</code>æŠŠä»–å¿½ç•¥äº†</p><p>è¿™ä¸ª<code>js</code>æ–‡ä»¶exportsäº†ä¸¤ä¸ªconfig</p><p>ä¸€ä¸ªæ˜¯<code>webpackConfig</code>å¦ä¸€ä¸ªæ˜¯<code>webpackDarkConfig</code></p><p>åº”è¯¥æ˜¯ä¸¤ä¸ªä¸»é¢˜ä¸åŒçš„é…ç½®ï¼Œå¯¼å‡ºä¸åŒçš„æ ·å¼æ–‡ä»¶</p><p>çœ‹æ ·å­ä»¥åå†™ä¸»é¢˜ä¹Ÿè¦ç”¨ç±»ä¼¼çš„æ–¹æ³•äº†ï¼Œå†™UIåº“çš„æ—¶å€™å°è¯•ä¸€ä¸‹ã€‚</p><h5 id="getWebpackConfig-js"><a href="#getWebpackConfig-js" class="headerlink" title="getWebpackConfig.js"></a>getWebpackConfig.js</h5><p><em>å°è¯•æ‰“åŒ…äº†ä¸€ä¸‹ï¼Œæ‰“åŒ…å¥½æ…¢ï¼ŒèŠ±äº†å››åˆ†å¤šé’Ÿ</em></p><p>è¿™ä¸ªæ–‡ä»¶å¯å°±å¤§äº†ï¼Œå·®ä¸å¤š300è¡Œï¼Œå…¶ä¸­å¤§å¤šæ•°æ˜¯é…ç½®å’Œå¯¹å„ç§ç±»å‹æ–‡ä»¶çš„å¤„ç†ï¼Œå…¶ä¸­è¿ç”¨äº†å¤§é‡çš„æ’ä»¶ï¼Œå¾ˆå¤šéƒ½æ˜¯æ‰“åŒ…å¿…é¡»çš„æ’ä»¶ï¼Œæˆ‘ä¸æ˜¯å¾ˆæ„Ÿå…´è¶£ã€‚</p><p>ä½†æœ‰ä¸ªæ’ä»¶æˆ‘å¾ˆæ„Ÿå…´è¶£</p><p><code>WebpackBar</code></p><p>å¼•å…¥<code>const WebpackBar = require(&#39;webpackbar&#39;);</code></p><p>ç”¨æ³•å¾ˆç®€å•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">new WebpackBar(&#123;</span><br><span class="line">   name: &#x27;ğŸšš  Ant Design Vue Tools&#x27;,//è¿™ä¸ªå›¾æ ‡ant-toolsä½¿ç”¨æ—¶å¹¶æ²¡æœ‰åŠ è½½å‡ºæ¥</span><br><span class="line">   color: &#x27;#2f54eb&#x27;,</span><br><span class="line">&#125;),</span><br></pre></td></tr></table></figure><p>æ”¹æˆè‡ªå·±çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">new WebpackBar(&#123;</span><br><span class="line">   name: &#x27;Archy&#x27;,</span><br><span class="line">   color: &#x27;#2570a1&#x27;,</span><br><span class="line">&#125;),</span><br></pre></td></tr></table></figure><p><img src="/images/0723_4.jpg" alt="cool"></p><p><strong>æ²¡ä»€ä¹ˆåµç”¨ï¼Œä½†è¿™æ ·å¾ˆcoolllllllllllï¼ï¼ï¼</strong></p><p>ç„¶åæ‰§è¡Œæ‰“åŒ…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">// Development</span><br><span class="line">    const uncompressedConfig = merge(&#123;&#125;, config, &#123;</span><br><span class="line">      entry: &#123;</span><br><span class="line">        [distFileBaseName]: entry,</span><br><span class="line">      &#125;,</span><br><span class="line">      mode: &#x27;development&#x27;,</span><br><span class="line">      plugins: [</span><br><span class="line">        new MiniCssExtractPlugin(&#123;</span><br><span class="line">          filename: &#x27;[name].css&#x27;,</span><br><span class="line">        &#125;),</span><br><span class="line">      ],</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    // Production</span><br><span class="line">    const prodConfig = merge(&#123;&#125;, config, &#123;</span><br><span class="line">      entry: &#123;</span><br><span class="line">        [`$&#123;distFileBaseName&#125;.min`]: entry,</span><br><span class="line">      &#125;,</span><br><span class="line">      mode: &#x27;production&#x27;,</span><br><span class="line">      plugins: [</span><br><span class="line">        new webpack.optimize.ModuleConcatenationPlugin(),</span><br><span class="line">        new webpack.LoaderOptionsPlugin(&#123;</span><br><span class="line">          minimize: true,</span><br><span class="line">        &#125;),</span><br><span class="line">        new MiniCssExtractPlugin(&#123;</span><br><span class="line">          filename: &#x27;[name].css&#x27;,</span><br><span class="line">        &#125;),</span><br><span class="line">      ],</span><br><span class="line">      optimization: &#123;</span><br><span class="line">        minimize: true,</span><br><span class="line">        minimizer: [new CssMinimizerPlugin(&#123;&#125;)],</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><p>æ‰“äº†ä¸¤ä»½ä»£ç ï¼Œä¸€ä»½å‹ç¼©çš„ï¼Œä¸€ä»½æ²¡æœ‰å‹ç¼©çš„</p><p>æœ€åè¿”å›äº†é…ç½®ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> AntDesignVueæºç å­¦ä¹  </tag>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> node </tag>
            
            <tag> Ant-tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nodejs-streamæµ</title>
      <link href="/nodejs-stream/"/>
      <url>/nodejs-stream/</url>
      
        <content type="html"><![CDATA[<p>çœ‹antd-toolsæºç ï¼Œå‘ç°è‡ªå·±å¯¹nodeæµè¿˜æ˜¯ä¸æ˜¯å¾ˆç†è§£ï¼Œå†å·©å›ºä¸€ä¸‹</p><p>å‚è€ƒ<a href="https://zhuanlan.zhihu.com/p/36728655">çŸ¥ä¹-ç ´æ™“</a></p><p>è§‰å¾—å†™å¾—æŒºæ¸…æ¥šï¼Œå¯ä»¥ç›´æ¥å»çœ‹</p><h3 id="ä»€ä¹ˆæ˜¯æµ"><a href="#ä»€ä¹ˆæ˜¯æµ" class="headerlink" title="ä»€ä¹ˆæ˜¯æµ"></a>ä»€ä¹ˆæ˜¯æµ</h3><blockquote><p>æµæ˜¯æ•°æ®çš„é›†åˆ - å°±åƒæ•°ç»„æˆ–è€…å­—ç¬¦ä¸²ã€‚</p><p>ä»–ä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯æµå¯èƒ½ä¸æ˜¯ä¸€æ¬¡æ€§è·å–åˆ°çš„ï¼Œå®ƒä»¬ä¸éœ€è¦åŒ¹é…å†…å­˜ã€‚</p><p>è¿™è®©æµåœ¨å¤„ç†å¤§å®¹é‡æ•°æ®ï¼Œæˆ–è€…ä»ä¸€ä¸ªé¢å¤–çš„æºæ¯æ¬¡è·å–ä¸€å—æ•°æ®çš„æ—¶å€™å˜å¾—éå¸¸å¼ºå¤§ã€‚</p></blockquote><h4 id="å…ˆæ¥åˆ›å»ºæ–‡ä»¶"><a href="#å…ˆæ¥åˆ›å»ºæ–‡ä»¶" class="headerlink" title="å…ˆæ¥åˆ›å»ºæ–‡ä»¶"></a>å…ˆæ¥åˆ›å»ºæ–‡ä»¶</h4><p>è¿™ä¸ªæ–‡ä»¶åœ¨<a href="https://zhuanlan.zhihu.com/p/36728655">å‚è€ƒæ–‡ç« </a>é‡Œé¢è¯´æœ‰å¤§æ¦‚400MBï¼Œä½†æˆ‘åˆ›å»ºå‡ºæ¥åªæœ‰56.2MBå·¦å³ï¼Œåº”è¯¥æ˜¯åŸä½œè€…ç®—é”™äº†ï¼Œ57ä¸ªå­—èŠ‚ä¹˜100ä¸‡è¡Œï¼Œåº”è¯¥å°±æ˜¯56Må·¦å³ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const fs = require(&#x27;fs&#x27;);</span><br><span class="line">const file = fs.createWriteStream(&#x27;./big.file&#x27;);</span><br><span class="line">for(let  i = 0;i&lt;=1e6;i++) &#123;</span><br><span class="line">    file.write(&#x27;Lorem ipsum dolor sit amet, consectetur adipisicing elit. \n&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">file.end();</span><br></pre></td></tr></table></figure><h4 id="å†æ¥è¯»å–æ–‡ä»¶"><a href="#å†æ¥è¯»å–æ–‡ä»¶" class="headerlink" title="å†æ¥è¯»å–æ–‡ä»¶"></a>å†æ¥è¯»å–æ–‡ä»¶</h4><p>ç„¶åæ–°å»ºä¸€ä¸ªstream-server.jsç”¨nodeæœåŠ¡å™¨è¯»å–big.file</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const fs = require(&#x27;fs&#x27;);</span><br><span class="line">const server = require(&#x27;http&#x27;).createServer();</span><br><span class="line">server.on(&#x27;request&#x27;, (req, res) =&gt; &#123;</span><br><span class="line">    fs.readFile(&#x27;./big.file&#x27;, (err, data) =&gt; &#123;</span><br><span class="line">        if(err) throw err;</span><br><span class="line">        res.end(data);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line">server.listen(8000);</span><br></pre></td></tr></table></figure><p>ç„¶å <code>node strea,-server.js</code>å¯åŠ¨ï¼Œåˆ°<code>localhost:8000</code></p><p>ä¼šçœ‹åˆ°ä¸€å¤§ä¸²å­—ç¬¦å‡ºç°çš„åŒæ—¶ï¼Œå³è¾¹æ»šåŠ¨æ¡åœ¨ä¸æ–­ä¸Šåˆ’ï¼Œè¯´æ˜æ•°æ®åœ¨ä¸æ–­å˜å¤š</p><p>æ‰“å¼€æ§åˆ¶å°Network,ä¼šçœ‹åˆ°</p><p><img src="/images/0723_1.jpg" alt="f12"></p><p>å°±åƒæ°´æµä¸€æ ·ä¸æ–­åœ°æ³¨å…¥æµè§ˆå™¨</p><p>å¯èƒ½è¿™å°±æ˜¯(stream)æµåå­—çš„ç”±æ¥</p><p>ä½†æ˜¯æˆ‘ä»¬åœ¨è°·æ­Œæµè§ˆå™¨æ ‡é¢˜æ å³é”®æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨åå‘ç°ï¼Œè¿™ä¸ªç½‘é¡µå†…å­˜å ç”¨éå¸¸çš„å¤§ï¼Œè¾¾åˆ°äº†170wK(è¿™é‡Œçš„Kæ˜¯ä¸æ˜¯Kbï¼Ÿ)</p><p><img src="/images/0723_2.jpg" alt="ä»»åŠ¡ç®¡ç†å™¨"></p><p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬ä¹‹å‰çš„æ–¹å¼å°±åƒæŠŠæ°´å€’åˆ°æ°´ç¼¸é‡Œï¼Œä½†æ˜¯æˆ‘ä»¬åªéœ€è¦ä¸€ç‚¹ç‚¹ç”¨æ°´ï¼Œæ°´ç¼¸é‡Œçš„æ°´å°±æµªè´¹äº†æ°´ç¼¸çš„ç©ºé—´ã€‚</p><p>æ‰€ä»¥ç°åœ¨æˆ‘ä»¬éœ€è¦æ¢ç§æ–¹å¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const fs = require(&#x27;fs&#x27;);</span><br><span class="line">const server = require(&#x27;http&#x27;).createServer();</span><br><span class="line"></span><br><span class="line">server.on(&#x27;request&#x27;, (req, res) =&gt; &#123;</span><br><span class="line">  const src = fs.createReadStream(&#x27;./big.file&#x27;);</span><br><span class="line">  src.pipe(res);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(8000);</span><br></pre></td></tr></table></figure><p><code>pipe</code>å°±æ˜¯ç®¡é“çš„æ„æ€ï¼Œè¿™ç§æ–¹å¼å°±æ˜¯ç›¸å½“äºæˆ‘ä»¬ä¸ç”¨æ°´ç¼¸äº†ï¼Œç›´æ¥ç”¨æ°´é¾™å¤´ï¼Œç”¨å¤šå°‘æ¥å¤šå°‘ï¼Œä¸ç”¨æµªè´¹æ°´ç¼¸çš„åœ°æ–¹äº†ï¼Œæ¯•ç«Ÿæˆ¿ä»·æŒºè´µçš„ï¼Œä¸€ä¸ªæ°´ç¼¸æ”¾ç°åœ¨ä¸€ä¸¤ä¸‡äº†ã€‚</p><p>ç„¶åæˆ‘ä»¬å†è¿è¡Œï¼Œçœ‹å†…å­˜å ç”¨</p><p><img src="/images/0723_3.jpg" alt="ä»»åŠ¡ç®¡ç†å™¨"></p><p>æˆ‘æ“¦ï¼Œæ€ä¹ˆæ²¡å˜</p><p>ç¿»è½¦äº†-ã€-</p><p>å’‹å›äº‹å„¿å‘¢ï¼Œæ‰å›äº‹å„¿å‘¢ï¼Œæ­ªï¼ï¼Ÿ</p><p>æ¢æˆcmd <code>curl localhost:8000 </code>ä¹Ÿæ˜¯æ²¡çœ‹åˆ°å†…å­˜æœ‰åŒºåˆ«ï¼Œ éƒ½æ˜¯ä¸€æ ·çš„å¡ï¼Œéš¾é“osxå’Œwindowså †å†…å­˜çš„ç®¡ç†ä¸åŒï¼Ÿè¿˜æ˜¯æˆ‘å¯¹pipeçš„ç†è§£æœ‰è¯¯ã€‚</p><p>å¸Œæœ›æœ‰äººçœ‹åˆ°å¯ä»¥å¸®æˆ‘è§£ç­”ä¸€ä¸‹</p><p><em><strong>æ‰€ä»¥ä»¥ä¸Šæ–‡å­—å¯èƒ½éƒ½æ˜¯é”™çš„ï¼</strong></em></p><h4 id="å››ç§åŸºæœ¬æµ"><a href="#å››ç§åŸºæœ¬æµ" class="headerlink" title="å››ç§åŸºæœ¬æµ"></a>å››ç§åŸºæœ¬æµ</h4><blockquote><p>åœ¨ Node.js ä¸­æœ‰å››ç§åŸºæœ¬çš„æµç±»å‹ï¼šReadableï¼ˆå¯è¯»æµï¼‰ï¼ŒWritableï¼ˆå¯å†™æµï¼‰ï¼ŒDuplexï¼ˆåŒå‘æµï¼‰ï¼ŒTransformï¼ˆè½¬æ¢æµï¼‰ã€‚</p><ul><li>å¯è¯»æµæ˜¯æ•°æ®å¯ä»¥è¢«æ¶ˆè´¹çš„æºçš„æŠ½è±¡ã€‚ä¸€ä¸ªä¾‹å­å°±æ˜¯ fs.createReadStream æ–¹æ³•ã€‚</li><li>å¯è¯»æµæ˜¯æ•°æ®å¯ä»¥è¢«å†™å…¥ç›®æ ‡çš„æŠ½è±¡ã€‚ä¸€ä¸ªä¾‹å­å°±æ˜¯ fs.createWriteStream æ–¹æ³•ã€‚</li><li>åŒå‘æµå³æ˜¯å¯è¯»çš„ä¹Ÿæ˜¯å¯å†™çš„ã€‚ä¸€ä¸ªä¾‹å­æ˜¯ TCP socketã€‚</li><li>è½¬æ¢æµæ˜¯åŸºäºåŒå‘æµçš„ï¼Œå¯ä»¥åœ¨è¯»æˆ–è€…å†™çš„æ—¶å€™è¢«ç”¨æ¥æ›´æ”¹æˆ–è€…è½¬æ¢æ•°æ®ã€‚ä¸€ä¸ªä¾‹å­æ˜¯ zlib.createGzip ä½¿ç”¨ gzip ç®—æ³•å‹ç¼©æ•°æ®ã€‚ä½ å¯ä»¥å°†è½¬æ¢æµæƒ³è±¡æˆä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„è¾“å…¥æ˜¯å¯å†™æµï¼Œè¾“å‡ºæ˜¯å¯è¯»æµã€‚ä½ æˆ–è®¸ä¹Ÿå¬è¿‡å°†è½¬æ¢æµæˆä¸ºâ€œé€šè¿‡æµï¼ˆthrough streamsï¼‰â€ã€‚</li></ul></blockquote><h4 id="pipe-æ–¹æ³•"><a href="#pipe-æ–¹æ³•" class="headerlink" title="pipe æ–¹æ³•"></a>pipe æ–¹æ³•</h4><blockquote><p>é€šå¸¸å»ºè®®ä½¿ç”¨ pipe æ–¹æ³•æˆ–è€…äº‹ä»¶æ¥æ¶ˆè´¹æµï¼Œä½†æ˜¯ä¸è¦æ··åˆä½¿ç”¨å®ƒä»¬ã€‚é€šå¸¸å½“ä½ ä½¿ç”¨ pipe æ–¹æ³•æ—¶ï¼Œä¸éœ€è¦ä½¿ç”¨äº‹ä»¶ï¼Œä½†æ˜¯å¦‚æœä½ å­¦è¦ç”¨æ›´å¤šè‡ªå®šä¹‰çš„æ–¹å¼ä½¿ç”¨æµï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨äº‹ä»¶çš„æ–¹å¼ã€‚</p></blockquote><h4 id="Streamäº‹ä»¶"><a href="#Streamäº‹ä»¶" class="headerlink" title="Streamäº‹ä»¶"></a>Streamäº‹ä»¶</h4><p>ä»¥ä¸‹å»ºè®®å»çœ‹åŸæ–‡ï¼Œå› ä¸ºå†å†™æˆ‘åº”è¯¥ä¹Ÿæ˜¯ç…§æ¬äº†ï¼Œéƒ½æ˜¯apié‡Œçš„ä¸œè¥¿ã€‚</p><p><a href="https://zhuanlan.zhihu.com/p/36728655">çŸ¥ä¹-ç ´æ™“</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> node </tag>
            
            <tag> stream </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>antd-toolsè¯¦è§£ï¼ˆä¸€ï¼‰</title>
      <link href="/antd-tools-1/"/>
      <url>/antd-tools-1/</url>
      
        <content type="html"><![CDATA[<p>é¦–å…ˆçœ‹çœ‹antd-design-vueæ ¹ç›®å½•ä¸­çš„<a href="https://github.com/vueComponent/ant-design-vue/blob/next/package.json">package.json</a></p><p>ä»ä¸­å¯ä»¥çœ‹åˆ°antd-toolsé‡Œé¢ä½¿ç”¨çš„å·¥å…·æœ‰å“ªäº›</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&quot;compile&quot;: &quot;node antd-tools/cli/run.js compile&quot;,</span><br><span class="line"></span><br><span class="line">&quot;generator-webtypes&quot;: &quot;tsc -p antd-tools/generator-types/tsconfig.json &amp;&amp; node antd-tools/generator-types/index.js&quot;,</span><br><span class="line"></span><br><span class="line">&quot;pub&quot;: &quot;node --max_old_space_size=8192 antd-tools/cli/run.js pub&quot;,</span><br><span class="line"></span><br><span class="line">&quot;pub-with-ci&quot;: &quot;node antd-tools/cli/run.js pub-with-ci&quot;,</span><br><span class="line"></span><br><span class="line">&quot;prepublish&quot;: &quot;node antd-tools/cli/run.js guard&quot;,</span><br><span class="line"></span><br><span class="line">&quot;dist&quot;: &quot;node --max_old_space_size=8192 antd-tools/cli/run.js dist&quot;,</span><br></pre></td></tr></table></figure><p>ç›®å‰çœ‹å°±æ˜¯è¿™6ä¸ªå·¥å…·</p><p>æ ¹æ®å‘½ä»¤è¯­ä¹‰çœ‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">compile ç¼–è¯‘</span><br><span class="line">generator-webtypes åˆå§‹åŒ–</span><br><span class="line">pub å‘å¸ƒ </span><br><span class="line">pub-with-ci åœ¨ciä¸‹pubï¼ˆä¸æ‡‚ï¼‰ </span><br><span class="line">prepublish é¢„å‘å¸ƒ</span><br><span class="line">dist æ‰“åŒ…</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªä¸ªçœ‹å§</p><h3 id="compile"><a href="#compile" class="headerlink" title="compile"></a>compile</h3><p>åœ¨<code>antd-tools\gulpfile.js</code>é‡Œèƒ½æ‰¾åˆ°ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(</span><br><span class="line">  &#x27;compile&#x27;,</span><br><span class="line">  gulp.series(gulp.parallel(&#x27;compile-with-es&#x27;, &#x27;compile-with-lib&#x27;), done =&gt; &#123;</span><br><span class="line">    done();</span><br><span class="line">  &#125;),</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><code>gulp.series()</code>å’Œ<code>gulp.parallel()</code>æ˜¯gulpä¸­çš„ç»„åˆä»»åŠ¡ï¼Œå…è®¸å°†å¤šä¸ªç‹¬ç«‹çš„ä»»åŠ¡ç»„åˆä¸ºä¸€ä¸ªæ›´å¤§çš„æ“ä½œï¼Œ<code>series()</code> å’Œ <code>parallel()</code> å¯ä»¥äº’ç›¸åµŒå¥—è‡³ä»»æ„æ·±åº¦ã€‚å¦‚æœéœ€è¦è®©ä»»åŠ¡ï¼ˆtaskï¼‰æŒ‰é¡ºåºæ‰§è¡Œï¼Œè¯·ä½¿ç”¨ <code>series()</code> æ–¹æ³•ã€‚å¯¹äºå¸Œæœ›ä»¥æœ€å¤§å¹¶å‘æ¥è¿è¡Œçš„ä»»åŠ¡ï¼ˆtasksï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>parallel()</code> æ–¹æ³•å°†å®ƒä»¬ç»„åˆèµ·æ¥ã€‚</p><p>ä¸Šé¢çš„æ„æ€å°±æ˜¯åˆ›å»ºä¸€ä¸ªåä¸º<code>compile</code>çš„ä»»åŠ¡ï¼Œè¿™ä¸ªä»»åŠ¡æ˜¯å…ˆæ‰§è¡Œå¹¶å‘çš„<code>compile-with-es</code>å’Œ<code>compile-with-lib</code>ï¼Œç„¶åæ‰§è¡Œå›è°ƒã€‚(è¿™ä¸ªå›è°ƒè²Œä¼¼ä¸æ˜¯å¿…è¦çš„ï¼Ÿ)</p><p>ç„¶åæˆ‘ä»¬å†æ¥çœ‹çœ‹<code>compile-with-es</code>å’Œ<code>compile-with-lib</code></p><h5 id="compile-with-es"><a href="#compile-with-es" class="headerlink" title="compile-with-es"></a>compile-with-es</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&#x27;compile-with-es&#x27;, done =&gt; &#123;</span><br><span class="line">  console.log(&#x27;[Parallel] Compile to es...&#x27;);</span><br><span class="line">  compile(false).on(&#x27;finish&#x27;, done);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h5 id="compile-with-lib"><a href="#compile-with-lib" class="headerlink" title="compile-with-lib"></a>compile-with-lib</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&#x27;compile-with-lib&#x27;, done =&gt; &#123;</span><br><span class="line">  console.log(&#x27;[Parallel] Compile to js...&#x27;);</span><br><span class="line">  compile().on(&#x27;finish&#x27;, done);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>çœ‹èµ·æ¥éƒ½æ˜¯å¯¹<code>compile</code>çš„æ‰§è¡Œï¼Œç„¶åæ¥çœ‹çœ‹<code>compile</code>æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯æ ¸å¿ƒä»£ç ã€‚</p><h5 id="compile-1"><a href="#compile-1" class="headerlink" title="compile"></a>compile</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">function compile(modules) &#123;</span><br><span class="line">  rimraf.sync(modules !== false ? libDir : esDir);</span><br><span class="line">  const less = gulp</span><br><span class="line">    .src([&#x27;components/**/*.less&#x27;])</span><br><span class="line">    .pipe(</span><br><span class="line">      through2.obj(function (file, encoding, next) &#123;</span><br><span class="line">        this.push(file.clone());</span><br><span class="line">        if (</span><br><span class="line">          file.path.match(/\/style\/index\.less$/) ||</span><br><span class="line">          file.path.match(/\/style\/v2-compatible-reset\.less$/)</span><br><span class="line">        ) &#123;</span><br><span class="line">          transformLess(file.path)</span><br><span class="line">            .then(css =&gt; &#123;</span><br><span class="line">              file.contents = Buffer.from(css);</span><br><span class="line">              file.path = file.path.replace(/\.less$/, &#x27;.css&#x27;);</span><br><span class="line">              this.push(file);</span><br><span class="line">              next();</span><br><span class="line">            &#125;)</span><br><span class="line">            .catch(e =&gt; &#123;</span><br><span class="line">              console.error(e);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          next();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;),</span><br><span class="line">    )</span><br><span class="line">    .pipe(gulp.dest(modules === false ? esDir : libDir));</span><br><span class="line">  const assets = gulp</span><br><span class="line">    .src([&#x27;components/**/*.@(png|svg)&#x27;])</span><br><span class="line">    .pipe(gulp.dest(modules === false ? esDir : libDir));</span><br><span class="line">  let error = 0;</span><br><span class="line">  const source = [</span><br><span class="line">    &#x27;components/**/*.js&#x27;,</span><br><span class="line">    &#x27;components/**/*.jsx&#x27;,</span><br><span class="line">    &#x27;components/**/*.tsx&#x27;,</span><br><span class="line">    &#x27;components/**/*.ts&#x27;,</span><br><span class="line">    &#x27;typings/**/*.d.ts&#x27;,</span><br><span class="line">    &#x27;!components/*/__tests__/*&#x27;,</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  const tsResult = gulp.src(source).pipe(</span><br><span class="line">    ts(tsConfig, &#123;</span><br><span class="line">      error(e) &#123;</span><br><span class="line">        tsDefaultReporter.error(e);</span><br><span class="line">        error = 1;</span><br><span class="line">      &#125;,</span><br><span class="line">      finish: tsDefaultReporter.finish,</span><br><span class="line">    &#125;),</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  function check() &#123;</span><br><span class="line">    if (error &amp;&amp; !argv[&#x27;ignore-error&#x27;]) &#123;</span><br><span class="line">      process.exit(1);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  tsResult.on(&#x27;finish&#x27;, check);</span><br><span class="line">  tsResult.on(&#x27;end&#x27;, check);</span><br><span class="line">  const tsFilesStream = babelify(tsResult.js, modules);</span><br><span class="line">  const tsd = tsResult.dts.pipe(gulp.dest(modules === false ? esDir : libDir));</span><br><span class="line">  return merge2([less, tsFilesStream, tsd, assets]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>ä¸‹ç­äº†ï¼Œæ˜å¤©å†æ¥å†™           2021/7/22 17:22</p><hr><p>ç»§ç»­            2021/7/23/ 10:09</p><hr><p><em>ç¬¬ä¸€å¥å°±æ²¡çœ‹æ‡‚</em></p><p><em><code>rimraf.sync(modules !== false ? libDir : esDir);</code></em></p><p><em>rimrafæ˜¯å¼•å…¥çš„æ’ä»¶<code>const rimraf = require(&#39;rimraf&#39;);</code></em></p><p><em>åå­—å¾ˆå¥‡æ€ª</em></p><p>æŸ¥äº†ä¸‹æ˜¯å¯¹rm -rfçš„åŒ…å°è£…ï¼Œé‚£å°±ä¸å¥‡æ€ªäº†</p><p>é‚£è¿™å¥è¯å°±æ˜¯å¯¹æ—§åŒ…çš„åˆ é™¤äº†</p><p>ä¸è¿‡ç¼–è¯‘çš„è¯ç¬¬ä¸€æ­¥ç¡®å®åº”è¯¥æ¸…ç†æ—§åŒ…ï¼Œå¤§æ„äº†ï¼Œç«Ÿç„¶æ²¡è”æƒ³åˆ°</p><p>lesså˜é‡æ˜¯ä¸€ä¸ªè¾ƒé•¿çš„é“¾å¼è°ƒç”¨ï¼Œå¾—æ‹‰å‡ºæ¥å•ç‹¬çœ‹çœ‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">const less = gulp</span><br><span class="line">   .src([&#x27;components/**/*.less&#x27;])    </span><br><span class="line">   .pipe(</span><br><span class="line">     through2.obj(function (file, encoding, next) &#123;</span><br><span class="line">       this.push(file.clone());</span><br><span class="line">       if (</span><br><span class="line">         file.path.match(/\/style\/index\.less$/) ||</span><br><span class="line">         file.path.match(/\/style\/v2-compatible-reset\.less$/)</span><br><span class="line">       ) &#123;</span><br><span class="line">         transformLess(file.path)</span><br><span class="line">           .then(css =&gt; &#123;</span><br><span class="line">             file.contents = Buffer.from(css);</span><br><span class="line">             file.path = file.path.replace(/\.less$/, &#x27;.css&#x27;);</span><br><span class="line">             this.push(file);</span><br><span class="line">             next();</span><br><span class="line">           &#125;)</span><br><span class="line">           .catch(e =&gt; &#123;</span><br><span class="line">             console.error(e);</span><br><span class="line">           &#125;);</span><br><span class="line">       &#125; else &#123;</span><br><span class="line">         next();</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;),</span><br><span class="line">   )</span><br><span class="line">   .pipe(gulp.dest(modules === false ? esDir : libDir));</span><br></pre></td></tr></table></figure><p><code>gulp.src()</code>åˆ›å»ºæµï¼Œæ–‡ä»¶ç³»ç»Ÿä¸­è¯»å–æ–‡ä»¶ç„¶åç”Ÿæˆä¸€ä¸ª Node æµï¼ˆstreamï¼‰ã€‚</p><p><code>.pipe() </code>æ–¹æ³•ï¼Œç”¨äºè¿æ¥è½¬æ¢æµï¼ˆTransform streamsï¼‰æˆ–å¯å†™æµï¼ˆWritable streamsï¼‰ï¼Œæˆ‘ç†è§£çš„æ˜¯æ–‡ä»¶æ“ä½œå†™åœ¨è¿™é‡Œé¢ã€‚</p><p><code>through2</code> å¬è¯´ä½¿ç”¨gulpä¼šå¸¸ç”¨åˆ°ï¼Œä½†æˆ‘è¿˜æ˜¯ç¬¬ä¸€æ¬¡è§ï¼Œæ˜¯å¯¹<code>transform stream</code>å°è£…ã€‚</p><p>ä»€ä¹ˆæ˜¯transform streamå‘¢ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œè™½ç„¶æˆ‘å¤§å­¦å­¦ä¹ javaå‡ºç”Ÿï¼Œä½†çœ‹æ¥æˆ‘çš„javaå­¦çš„çœŸçš„ä¸è¡Œå•Šã€‚</p><p>MDNæ˜¯è¿™ä¹ˆè¯´çš„</p><blockquote><p>åœ¨<code>TransformStream</code>æ‰€è¿°çš„æ¥å£ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Streams_API">æµAPI</a> è¡¨ç¤ºä¸€ç»„å¯å˜å½¢çš„æ•°æ®ã€‚</p></blockquote><p>çœ‹æ¥æˆ‘å¾—ä¸“é—¨å»å·©å›ºä¸€ä¸‹nodeçš„æµäº†,å•ç‹¬å¼€ä¸ªæ–‡ï¼Œç­‰ä¼šå„¿å›æ¥</p><hr><p>2021/7/23 10:55</p><hr><p>2021/7/23 13:50 å¤§æ¦‚çš„å·©å›ºäº†ä¸€ä¸‹streamï¼Œå›æ¥ç»§ç»­ç ”ç©¶antd-tools</p><hr><p>é‚£ä¹ˆ<code>through2.obj</code>é‡Œé¢å°±æ˜¯å¯¹æµçš„å¤„ç†</p><p>ä¸€ä¸ª<code>if</code>åˆ¤æ–­ï¼Œå¯¹</p><p><code>file.path.match(/\/style\/index\.less$/)</code> </p><p><code>file.path.match(/\/style\/v2-compatible-reset\.less$/)</code></p><p>è¿™ä¸¤ç§åŒ¹é…æˆ–é€»è¾‘æˆç«‹çš„æ—¶å€™ç‰¹æ®Šåˆ¤æ–­</p><p>è¿™ä¸¤ç§lessæœ‰ä»€ä¹ˆç‰¹æ®Šçš„åœ°æ–¹å—ï¼Ÿ</p><p>é‚£å°±è¦çœ‹çœ‹æ€ä¹ˆç‰¹æ®Šå¤„ç†çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">transformLess(file.path)</span><br><span class="line">    .then(css =&gt; &#123;</span><br><span class="line">        file.contents = Buffer.from(css);</span><br><span class="line">        file.path = file.path.replace(/\.less$/, &#x27;.css&#x27;);</span><br><span class="line">        this.push(file);</span><br><span class="line">        next();</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(e =&gt; &#123;</span><br><span class="line">    console.error(e);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><p>è°ƒç”¨äº†<code>transformLess</code>æ–¹æ³•</p><p><code>transformLess</code>åœ¨åŒç›®å½•ä¸‹,çœ‹æ¥ä¸æ˜¯åªæœ‰è¿™ä¸ªåœ°æ–¹ç”¨äº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">function transformLess(lessFile, config = &#123;&#125;) &#123;</span><br><span class="line">  const &#123; cwd = process.cwd() &#125; = config;</span><br><span class="line">  const resolvedLessFile = path.resolve(cwd, lessFile);</span><br><span class="line"></span><br><span class="line">  let data = readFileSync(resolvedLessFile, &#x27;utf-8&#x27;);</span><br><span class="line">  data = data.replace(/^\uFEFF/, &#x27;&#x27;);</span><br><span class="line"></span><br><span class="line">  // Do less compile</span><br><span class="line">  const lessOpts = &#123;</span><br><span class="line">    paths: [path.dirname(resolvedLessFile)],</span><br><span class="line">    filename: resolvedLessFile,</span><br><span class="line">    plugins: [new NpmImportPlugin(&#123; prefix: &#x27;~&#x27; &#125;)],</span><br><span class="line">    javascriptEnabled: true,</span><br><span class="line">  &#125;;</span><br><span class="line">  return less</span><br><span class="line">    .render(data, lessOpts)</span><br><span class="line">    .then(result =&gt; postcss([autoprefixer]).process(result.css, &#123; from: undefined &#125;))</span><br><span class="line">    .then(r =&gt; &#123;</span><br><span class="line">      return r.css;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>  const &#123; cwd = process.cwd() &#125; = config;</code><br><code>const resolvedLessFile = path.resolve(cwd, lessFile);</code></p><p>è·å–äº†lessç›®å½•</p><p>è¯»å–æ–‡ä»¶æµ</p><p>ç„¶å<code>  data = data.replace(/^\uFEFF/, &#39;&#39;);</code>åˆ é™¤æ–‡ä»¶ä¸­çš„\uFEFF,è¿™æ˜¯ä¸ªå•¥ï¼Ÿ</p><blockquote><p>æ–‡æœ¬ä¿å­˜æ—¶åŒ…å«äº†BOMï¼ˆByte Order Markï¼Œå­—èŠ‚é¡ºåºæ ‡è®°ï¼Œå‡ºç°åœ¨æ–‡æœ¬æ–‡ä»¶å¤´éƒ¨ï¼ŒUnicodeç¼–ç æ ‡å‡†ä¸­ç”¨äºæ ‡è¯†æ–‡ä»¶æ˜¯é‡‡ç”¨å“ªç§æ ¼å¼çš„ç¼–ç ï¼‰,å¯¼è‡´å‡ºç°\uFEFF</p></blockquote><p>åˆå‡ºç°ä¸€ä¸ªBOM= - =</p><p>æ¥ä¸‹æ¥æœ‰å¥æ³¨é‡Š <code>//Do less compile</code></p><p>è¯´æ˜ä¸‹é¢å°±æ˜¯åšlessçš„ç¼–è¯‘äº†</p><p><code>lessOpts</code>èµ‹å€¼å°±ä¸ç”¨çœ‹äº†ï¼Œç›´æ¥çœ‹è¿”å›å€¼<code>less.render().then().then()</code></p><p>çŒœä¹Ÿèƒ½çŒœåˆ°æ˜¯æŠŠlessç¼–è¯‘æˆcss</p><p><strong>å¯æ˜¯å’‹çœ‹æ¥çœ‹å»ï¼Œè¿˜æ˜¯ç”¨çš„lessçš„APIå‘¢ï¼Œæˆ‘çœ‹è¿™ä¹ˆä¹…æ˜¯ä¸ºäº†å•¥ï¼Ÿ</strong></p><p>ä½†ä¸­é—´ç”¨äº†ä¸ªæ’ä»¶è¿˜æ˜¯å¯ä»¥æ³¨æ„ä¸‹<code>less-plugin-npm-import</code></p><p>è¿™ä¸ªæ’ä»¶å¯ä»¥ä»npmåŒ…é‡Œé¢å¯¼å…¥less</p><p><em>ä½†ä»ä¸¤ä¸ªåŒ¹é…çš„lessé‡Œé¢å¹¶æ²¡æœ‰çœ‹åˆ°ä»npmä¸­å¼•å…¥çš„lessæ–‡ä»¶</em></p><p><em>ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¦ç”¨è¿™ä¸ªæ’ä»¶ï¼Ÿ</em></p><p><em>æˆ–è€…æˆ‘æ²¡æ‰¾åˆ°ï¼Ÿ</em></p><p><em>åšå®Œè¿™äº›ï¼Œå°±æ˜¯è°ƒç”¨<code>gulp.dest()</code>è¿™ä¸ªå†™å…¥æ–‡ä»¶ç³»ç»Ÿçš„æ–¹æ³•äº†</em></p><p><em>åˆ°æ­¤é“¾å¼è°ƒç”¨ç†è§£å®Œäº†</em></p><p><em><strong>æˆ‘çœŸæ˜¯å•°å—¦å•Š</strong></em></p><p><strong>çœ‹æ¥çœ‹å»ï¼Œå°±æ˜¯å¯¹less.renderçš„è°ƒç”¨</strong></p><p><strong>è¿™ä¸€é•¿ä¸²å°±æ˜¯lessçš„ç¼–è¯‘æ‰“åŒ…</strong></p><p>å›åˆ°<code>compile</code>æœ¬èº«</p><p>æ¥ç€ä¸‹é¢åˆ†åˆ«æ˜¯å¯¹</p><p><code>components/**/*.@(png|svg)</code></p><p><code>components/**/*.js</code></p><p><code>components/**/*.jsx</code></p><p><code>components/**/*.tsx</code></p><p><code>components/**/*.ts</code></p><p><code>typings/**/*.d.ts</code></p><p><code>!components/*/__tests__/*</code></p><p>çš„ç¼–è¯‘æ•´ç†</p><p>å…¶ä¸­tsç‰¹æ®Šå¤„ç†äº†ä¸€ä¸‹ï¼Œå¼•å…¥äº†<code>const ts = require(&#39;gulp-typescript&#39;);</code></p><p>ç„¶åè°ƒç”¨<code>ts(tsConfig,&#123;&#125;)</code></p><p>å¯¹é”™è¯¯æƒ…å†µè¿›è¡Œäº†å¤„ç†ã€‚</p><p>ç„¶åè¿›è¡Œäº†babelå¤„ç†</p><p><code> const tsFilesStream = babelify(tsResult.js, modules);</code></p><p>babelåŒ–ä¹‹ååœ¨å†™å…¥æ–‡ä»¶</p><p>babelåŒ–ç®€å•æ¥è¯´æŠŠ JavaScript ä¸­ es2015/2016/2017/2046 çš„æ–°è¯­æ³•è½¬åŒ–ä¸º es5ï¼Œè®©ä½ç«¯è¿è¡Œç¯å¢ƒ(å¦‚æµè§ˆå™¨å’Œ node )èƒ½å¤Ÿè®¤è¯†å¹¶æ‰§è¡Œã€‚</p><p><strong>éå¸¸ç‰›é€¼çš„å·¥å…·ï¼Œè§£å†³äº†å‰ç«¯å·¥ä½œè€…ä¸€å¤§ç—›ç‚¹ã€‚</strong></p><p>æœ€åä¸€å¥è¯</p><p><code> return merge2([less, tsFilesStream, tsd, assets]);</code></p><p>æŠŠæ‰€æœ‰æµæŒ‰é˜Ÿåˆ—æ•´åˆä¸ºä¸€ä¸ªæµ</p><hr><p>å¦ˆçš„ï¼Œä¹Ÿä¸å¤æ‚çš„ä¸œè¥¿æˆ‘æ€ä¹ˆå†™äº†è¿™ä¹ˆå¤šï¼Œä»¥åå†™æ–‡å¾—ç²¾ç®€äº†</p>]]></content>
      
      
      
        <tags>
            
            <tag> AntDesignVueæºç å­¦ä¹  </tag>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> node </tag>
            
            <tag> Ant-tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>antd-toolsä¸­çš„gulp</title>
      <link href="/gulp/"/>
      <url>/gulp/</url>
      
        <content type="html"><![CDATA[<p>é¦–å…ˆä¸‰è¿</p><p><code>npm install --global gulp-cli</code></p><p><code>npm install --save-dev gulp</code></p><p><code>gulp --version</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;gulp --version</span><br><span class="line">CLI version: 2.3.0</span><br><span class="line">Local version: 4.0.2</span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•</strong></p><p>åˆ›å»ºgulpfile.jsæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function defaultTask(cb) &#123;</span><br><span class="line">  // place code for your default task here</span><br><span class="line">  cb();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">exports.default = defaultTask</span><br></pre></td></tr></table></figure><p>åœ¨è¯¥ç›®å½•ä¸‹</p><p><code>&gt;gulp</code></p><p>å¦‚éœ€è¿è¡Œå¤šä¸ªä»»åŠ¡ï¼ˆtaskï¼‰ï¼Œå¯ä»¥æ‰§è¡Œ <code>gulp &lt;task&gt; &lt;othertask&gt;</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;gulp</span><br><span class="line">[14:31:47] Using gulpfile D:\sgd_cd_pro\test\node\gulpfile.js</span><br><span class="line">[14:31:47] Starting &#x27;default&#x27;...</span><br><span class="line">[14:31:47] Finished &#x27;default&#x27; after 1.69 ms</span><br></pre></td></tr></table></figure><p><strong>gulpå’Œwebpackçš„åŒºåˆ«</strong></p><p>gulpæ³¨é‡å‰ç«¯å¼€å‘æµç¨‹ï¼Œå°†æˆ‘ä»¬é‡å¤ç¹ççš„å·¥ä½œè‡ªåŠ¨åŒ–æ‰§è¡Œå’Œæ‰“åŒ…ã€‚</p><p>webpackæ³¨é‡æ¨¡å—åŒ–å¼€å‘ï¼ŒæŠŠæ‰€æœ‰çš„æ–‡ä»¶æ¨¡å—åŒ–ã€‚</p><p>æ‡‚è¿™ä¸ªåŒºåˆ«ï¼Œä¹Ÿå°±å¤§æ¦‚èƒ½çœ‹æ‡‚AntDesignVueæºç ä¸­ä½¿ç”¨gulpçš„æ„ä¹‰äº†</p><p><strong>runTask</strong></p><p>Ant Design Vueé‡Œé¢æœ‰è¿™æ ·ä¸€ä¸ªæ–¹æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">function runTask(toRun) &#123;</span><br><span class="line">  const metadata = &#123; task: toRun &#125;;</span><br><span class="line">  // Gulp &gt;= 4.0.0 (doesn&#x27;t support events)</span><br><span class="line">  const taskInstance = gulp.task(toRun);</span><br><span class="line">  if (taskInstance === undefined) &#123;</span><br><span class="line">    gulp.emit(&#x27;task_not_found&#x27;, metadata);</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line">  const start = process.hrtime();</span><br><span class="line">  gulp.emit(&#x27;task_start&#x27;, metadata);</span><br><span class="line">  try &#123;</span><br><span class="line">    taskInstance.apply(gulp);</span><br><span class="line">    metadata.hrDuration = process.hrtime(start);</span><br><span class="line">    gulp.emit(&#x27;task_stop&#x27;, metadata);</span><br><span class="line">    gulp.emit(&#x27;stop&#x27;);</span><br><span class="line">  &#125; catch (err) &#123;</span><br><span class="line">    err.hrDuration = process.hrtime(start);</span><br><span class="line">    err.task = metadata.task;</span><br><span class="line">    gulp.emit(&#x27;task_err&#x27;, err);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‡½æ•°åè¯­ä¹‰æ˜¯æ‰§è¡Œä»»åŠ¡ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯å°†å‘½ä»¤è¡Œå‚æ•°è½¬æ¢ä¸ºgulpä¸­çš„taskå³ä»»åŠ¡æ‰§è¡Œ</p><p>æ‰€ä»¥åé¢æˆ‘ä»¬æ¥ä¸€ä¸ªä¸€ä¸ªç†è§£antd-toolsè¿™é‡Œé¢çš„å·¥å…·æœ‰ä»€ä¹ˆä½œç”¨</p>]]></content>
      
      
      
        <tags>
            
            <tag> AntDesignVueæºç å­¦ä¹  </tag>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼€å‘cliå¿…å¤‡çš„commanderå·¥å…·</title>
      <link href="/commander/"/>
      <url>/commander/</url>
      
        <content type="html"><![CDATA[<p>å¼€å‘cliå¿…å¤‡</p><p>æ–‡æ¡£ï¼Œç«Ÿç„¶æœ‰ä¸­æ–‡ï¼Œå¯¹æˆ‘è¿™ç§å››çº§éƒ½æ²¡è¿‡å¾—è¾£é¸¡å¤ªå‹å¥½äº†</p><p><a href="https://github.com/tj/commander.js/blob/master/Readme_zh-CN.md">Commander.js</a></p><p>é¦–å…ˆ</p><h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install commander</span><br></pre></td></tr></table></figure><h2 id="Declaring"><a href="#Declaring" class="headerlink" title="Declaring"></a>Declaring</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const &#123; program &#125; = require(&#x27;commander&#x27;);</span><br></pre></td></tr></table></figure><h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><h3 id="version"><a href="#version" class="headerlink" title="version"></a>version</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">program.version(&#x27;0.0.1&#x27;).parse(process.argv);</span><br><span class="line">//console </span><br><span class="line">//node commander.js -V</span><br><span class="line">0.0.1</span><br><span class="line">program.version(&#x27;0.0.1&#x27;,&#x27;-v,--version&#x27;).parse(process.argv);</span><br><span class="line">//console </span><br><span class="line">//node commander.js -v or --version</span><br><span class="line">0.0.1</span><br></pre></td></tr></table></figure><h3 id="option"><a href="#option" class="headerlink" title="option"></a>option</h3><p>Commander ä½¿ç”¨<code>.option()</code> æ–¹æ³•æ¥å®šä¹‰é€‰é¡¹ï¼ŒåŒæ—¶å¯ä»¥é™„åŠ é€‰é¡¹çš„ç®€ä»‹ã€‚æ¯ä¸ªé€‰é¡¹å¯ä»¥å®šä¹‰ä¸€ä¸ªçŸ­é€‰é¡¹åç§°ï¼ˆ-åé¢æ¥å•ä¸ªå­—ç¬¦ï¼‰å’Œä¸€ä¸ªé•¿é€‰é¡¹åç§°ï¼ˆâ€“åé¢æ¥ä¸€ä¸ªæˆ–å¤šä¸ªå•è¯ï¼‰ï¼Œä½¿ç”¨é€—å·ã€ç©ºæ ¼æˆ–<code>|</code>åˆ†éš”ã€‚</p><p>é€‰é¡¹å¯ä»¥é€šè¿‡åœ¨<code>Command</code>å¯¹è±¡ä¸Šè°ƒç”¨<code>.opts()</code>æ–¹æ³•æ¥è·å–ã€‚å¯¹äºå¤šä¸ªå•è¯çš„é•¿é€‰é¡¹ï¼Œä½¿ç”¨é©¼å³°æ³•è·å–ï¼Œä¾‹å¦‚<code>--template-engine</code>é€‰é¡¹é€šè¿‡<code>program.opts().templateEngine</code>è·å–ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">program</span><br><span class="line">  .version(&#x27;0.0.1&#x27;, &#x27;-v, --version&#x27;)</span><br><span class="line">  .option(&#x27;-d, --debug&#x27;, &#x27;debug&#x27;)</span><br><span class="line">  .option(&#x27;-s, --small&#x27;, &#x27;small&#x27;)</span><br><span class="line">  .option(&#x27;-p, --type &lt;type&gt;&#x27;, &#x27;type&#x27;)</span><br><span class="line"></span><br><span class="line">program.parse(process.argv)</span><br><span class="line"></span><br><span class="line">const options = program.opts()</span><br><span class="line">if (options.debug) console.log(options)</span><br><span class="line">console.log(&#x27;details:&#x27;)</span><br><span class="line">if (options.small) console.log(&#x27;- small&#x27;)</span><br><span class="line">if (options.type) console.log(`- $&#123;options.type&#125;`)</span><br><span class="line"></span><br><span class="line">//node commander.js -h</span><br><span class="line">Usage: commander [options]</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -v, --version      output the version number</span><br><span class="line">  -d, --debug        debug</span><br><span class="line">  -s, --small        small</span><br><span class="line">  -p, --type &lt;type&gt;  type</span><br><span class="line">  -h, --help         display help for command</span><br><span class="line"></span><br><span class="line">//node commander -d</span><br><span class="line">&#123;debug:true&#125;</span><br><span class="line">details:</span><br><span class="line"></span><br><span class="line">//node comander -d -s </span><br><span class="line">&#123;debug:true,small:true&#125;</span><br><span class="line">details:</span><br><span class="line">- smaill </span><br><span class="line"></span><br><span class="line">//node comander -d -s -t chinese</span><br><span class="line">&#123;debug:true,small:true,type:chinese&#125;</span><br><span class="line">details:</span><br><span class="line">- smaill </span><br><span class="line">- chinese</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é€‰é¡¹å¯ä»¥è®¾ç½®é»˜è®¤å€¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//é€‰é¡¹å¯ä»¥è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ã€‚</span><br><span class="line">program</span><br><span class="line">  .option(&#x27;-c, --cheese &lt;type&gt;&#x27;, &#x27;add the specified type of cheese&#x27;, &#x27;blue&#x27;);</span><br><span class="line">program.parse();</span><br><span class="line"></span><br><span class="line">console.log(`cheese: $&#123;program.opts().cheese&#125;`);</span><br></pre></td></tr></table></figure><h4 id="å…¶ä»–çš„é€‰é¡¹ç±»å‹"><a href="#å…¶ä»–çš„é€‰é¡¹ç±»å‹" class="headerlink" title="å…¶ä»–çš„é€‰é¡¹ç±»å‹"></a>å…¶ä»–çš„é€‰é¡¹ç±»å‹</h4><p><strong>å–åé€‰é¡¹</strong><br>å¯ä»¥å®šä¹‰ä¸€ä¸ªä»¥<code>no-</code>å¼€å¤´çš„<code>boolean</code>å‹é•¿é€‰é¡¹ã€‚åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨è¯¥é€‰é¡¹æ—¶ï¼Œä¼šå°†å¯¹åº”é€‰é¡¹çš„å€¼ç½®ä¸ºfalseã€‚å½“åªå®šä¹‰äº†å¸¦<code>no-</code>çš„é€‰é¡¹ï¼Œæœªå®šä¹‰å¯¹åº”ä¸å¸¦<code>no-</code>çš„é€‰é¡¹æ—¶ï¼Œè¯¥é€‰é¡¹çš„é»˜è®¤å€¼ä¼šè¢«ç½®ä¸ºtrueã€‚</p><p>å¦‚æœå·²ç»å®šä¹‰äº†<code>--foo</code>ï¼Œé‚£ä¹ˆå†å®šä¹‰<code>--no-foo</code>å¹¶ä¸ä¼šæ”¹å˜å®ƒæœ¬æ¥çš„é»˜è®¤å€¼ã€‚å¯ä»¥ä¸ºä¸€ä¸ª<code>boolean</code>ç±»å‹çš„é€‰é¡¹æŒ‡å®šä¸€ä¸ªé»˜è®¤çš„å¸ƒå°”å€¼ï¼Œåœ¨å‘½ä»¤è¡Œé‡Œå¯ä»¥é‡å†™å®ƒçš„å€¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">program</span><br><span class="line">  .version(&#x27;0.0.1&#x27;, &#x27;-v, --version&#x27;)</span><br><span class="line">  .option(&#x27;-o, --option&#x27;,&#x27;show options&#x27;)</span><br><span class="line">  .option(&#x27;--no-gf&#x27;, &#x27;no object&#x27;)</span><br><span class="line"></span><br><span class="line">program.parse(process.argv)</span><br><span class="line"></span><br><span class="line">const options = program.opts()</span><br><span class="line">if (options.option) console.log(options)</span><br><span class="line">//node commander -o</span><br><span class="line">&#123; gf: true, option: true &#125;</span><br><span class="line">//node commander -o --no-gf</span><br><span class="line">&#123; gf: false, option: true &#125;</span><br></pre></td></tr></table></figure><p><strong>é€‰é¡¹çš„å‚æ•°ä½¿ç”¨æ–¹æ‹¬å·å£°æ˜è¡¨ç¤ºå‚æ•°æ˜¯å¯é€‰å‚æ•°ï¼ˆå¦‚ <code>--optional [value]</code>ï¼‰ã€‚</strong></p><p>è¯¥é€‰é¡¹åœ¨ä¸å¸¦å‚æ•°æ—¶å¯ç”¨ä½œbooleané€‰é¡¹ï¼Œåœ¨å¸¦æœ‰å‚æ•°æ—¶åˆ™ä»å‚æ•°ä¸­å¾—åˆ°å€¼ã€‚</p><p><strong>é€‰é¡¹çš„å‚æ•°ä½¿ç”¨å°–æ‹¬å·å£°æ˜è¡¨ç¤ºå‚æ•°æ˜¯å¿…å¡«å‚æ•°ï¼ˆå¦‚ <code>--optional &lt;value&gt;</code>ï¼‰ã€‚</strong></p><p>å¿…å¡«é€‰é¡¹è¦ä¹ˆè®¾æœ‰é»˜è®¤å€¼ï¼Œè¦ä¹ˆå¿…é¡»åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ï¼Œå¯¹åº”çš„å±æ€§å­—æ®µåœ¨è§£ææ—¶å¿…å®šä¼šæœ‰èµ‹å€¼ã€‚è¯¥æ–¹æ³•å…¶ä½™å‚æ•°ä¸<code>.option</code>ä¸€è‡´ã€‚</p><p><strong>é€‰é¡¹çš„å‚æ•°ä½¿ç”¨â€¦å‰ç¼€è¡¨ç¤ºå‚æ•°æ˜¯å˜é•¿å‚æ•°ï¼ˆå¦‚<code>--optional &lt;...value&gt;</code>)ã€‚</strong></p><p>åœ¨å‘½ä»¤è¡Œä¸­ï¼Œç”¨æˆ·å¯ä»¥è¾“å…¥å¤šä¸ªå‚æ•°ï¼Œè§£æåä¼šä»¥æ•°ç»„å½¢å¼å­˜å‚¨åœ¨å¯¹åº”å±æ€§å­—æ®µä¸­ã€‚åœ¨è¾“å…¥ä¸‹ä¸€ä¸ªé€‰é¡¹å‰ï¼ˆ-æˆ–â€“å¼€å¤´ï¼‰ï¼Œç”¨æˆ·è¾“å…¥çš„æŒ‡ä»¤å‡ä¼šè¢«è§†ä½œå˜é•¿å‚æ•°ã€‚ä¸æ™®é€šå‚æ•°ä¸€æ ·çš„æ˜¯ï¼Œå¯ä»¥é€šè¿‡<code>--</code>æ ‡è®°å½“å‰å‘½ä»¤çš„ç»“æŸã€‚</p><p><strong>å…¶ä»–é€‰é¡¹é…ç½®</strong></p><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé€‰é¡¹å‡å¯é€šè¿‡<code>.option()</code>æ–¹æ³•æ·»åŠ ã€‚ä½†å¯¹æŸäº›ä¸å¸¸è§çš„ç”¨ä¾‹ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ„é€ <code>Option</code>å¯¹è±¡ï¼Œå¯¹é€‰é¡¹è¿›è¡Œæ›´è¯¦å°½çš„é…ç½®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">const &#123; program, Option &#125; = require(&#x27;commander&#x27;)</span><br><span class="line"></span><br><span class="line">program</span><br><span class="line">  .addOption(new Option(&#x27;-s, --secret&#x27;).hideHelp())</span><br><span class="line">  .addOption(</span><br><span class="line">    new Option(&#x27;-t, --timeout &lt;delay&gt;&#x27;, &#x27;timeout in seconds&#x27;).default(</span><br><span class="line">      60,</span><br><span class="line">      &#x27;one minute&#x27;</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line">  .addOption(</span><br><span class="line">    new Option(&#x27;-d, --drink &lt;size&gt;&#x27;, &#x27;drink size&#x27;).choices([</span><br><span class="line">      &#x27;small&#x27;,</span><br><span class="line">      &#x27;medium&#x27;,</span><br><span class="line">      &#x27;large&#x27;,</span><br><span class="line">    ])</span><br><span class="line">  )</span><br><span class="line">program.parse()</span><br><span class="line">console.log(&#x27;Options: &#x27;, program.opts());</span><br><span class="line"></span><br><span class="line">//node commander --help</span><br><span class="line">Usage: commander [options]</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -t, --timeout &lt;delay&gt;  timeout in seconds (default: one minute)</span><br><span class="line">  -d, --drink &lt;size&gt;     drink size (choices: &quot;small&quot;, &quot;medium&quot;, &quot;large&quot;)</span><br><span class="line">  -h, --help             display help for command</span><br><span class="line">  </span><br><span class="line">//node commander -s</span><br><span class="line">Options:  &#123; timeout: 60, secret: true &#125;</span><br><span class="line"></span><br><span class="line">//node commander -d big</span><br><span class="line">error: option &#x27;-d, --drink &lt;size&gt;&#x27; argument &#x27;big&#x27; is invalid. Allowed choices are small, medium, large.</span><br></pre></td></tr></table></figure><p><strong>è‡ªå®šä¹‰é€‰é¡¹å¤„ç†</strong></p><p>é€‰é¡¹çš„å‚æ•°å¯ä»¥é€šè¿‡è‡ªå®šä¹‰å‡½æ•°æ¥å¤„ç†ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šç”¨æˆ·æ–°è¾“å…¥çš„å‚æ•°å€¼å’Œå½“å‰å·²æœ‰çš„å‚æ•°å€¼ï¼ˆå³ä¸Šä¸€æ¬¡è°ƒç”¨è‡ªå®šä¹‰å¤„ç†å‡½æ•°åçš„è¿”å›å€¼ï¼‰ï¼Œè¿”å›æ–°çš„é€‰é¡¹å‚æ•°å€¼ã€‚</p><p>è‡ªå®šä¹‰å‡½æ•°é€‚ç”¨åœºæ™¯åŒ…æ‹¬å‚æ•°ç±»å‹è½¬æ¢ï¼Œå‚æ•°æš‚å­˜ï¼Œæˆ–è€…å…¶ä»–è‡ªå®šä¹‰å¤„ç†çš„åœºæ™¯ã€‚</p><p><strong>æœ‰ç‚¹å¤šï¼Œæ—¶é—´åŸå› ä¸æ¯ä¸€ä¸ªéƒ½çœ‹å®Œäº†</strong></p><p><strong>æŠŠå¸¸ç”¨çš„çœ‹äº†ç†è§£äº†</strong></p><p><strong>æ€»ä¸èƒ½ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰çŸ¥è¯†å…¨å­¦å®Œå§</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> AntDesignVueæºç å­¦ä¹  </tag>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>xmrigæŒ–çŸ¿ç—…æ¯’</title>
      <link href="/xmrig/"/>
      <url>/xmrig/</url>
      
        <content type="html"><![CDATA[<p>æ˜¨å¤©åšå®¢æ­å®Œçªç„¶è¿ä¸ä¸ŠæœåŠ¡å™¨äº†ï¼Œå¼€å§‹ä»¥ä¸ºæ˜¯ç½‘çš„é—®é¢˜ï¼Œåæ¥æŸ¥çœ‹é˜¿é‡Œæ§åˆ¶å°ï¼Œå‘ç°å†…å­˜å ç”¨è¾¾åˆ°100%</p><p><img src="/images/0722_1.jpg" alt="é˜¿é‡Œäº‘æ§åˆ¶å°å›¾ç‰‡"></p><p>å¿ƒæƒ³å¯èƒ½ä¸­ç—…æ¯’äº†ï¼Œå¥½ä¸å®¹æ˜“è¿æ¥ä¸ŠæœåŠ¡å™¨ï¼Œè¾“å…¥</p><p><code>[root@archyInk]# top</code> </p><p><img src="/images/0722_2.jpg" alt="å¤§æˆ˜è¿‡åï¼Œåªæœ‰åˆ°ç½‘ä¸Šæ‰¾å›¾äº†"><br>å‘ç°ä¸€ä¸ªå«xmrigçš„è¿›ç¨‹å ç”¨äº†100%ï¼ŒæŸ¥äº†ä¸€ä¸‹æ˜¯æŒ–çŸ¿ç—…æ¯’ã€‚</p><p>æ°”æ­»äº†ï¼ŒçŸ¿ä½¬è¿æˆ‘2gå°æ°´ç®¡éƒ½ä¸æ”¾è¿‡ã€‚</p><p>killè¿›ç¨‹å‘ç°æ²¡å•¥ç”¨ï¼Œä¼šè‡ªåŠ¨é‡å¯</p><p>æŸ¥äº†ä¸‹ç½‘ä¸ŠåŒæ ·çš„æƒ…å†µï¼Œä¸€èˆ¬éƒ½æ˜¯åœ¨dockerå®¹å™¨ä¸­è¿è¡Œçš„ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰ç”¨è¿‡dockerï¼Œæ‰€ä»¥æ¨æµ‹æ˜¯ç›´æ¥æ¤å…¥çš„ç¨‹åºï¼Œäºæ˜¯è¾“å…¥<code>ll /proc/14454/exe</code>ä¸­é—´æ˜¯pidæ‰¾åˆ°è¿›ç¨‹çš„ç¨‹åºï¼Œæ˜¯ä¸€ä¸ªå«skypoolçš„æ–‡ä»¶å¤¹ï¼Œæœäº†ä¸€ä¸ªæ˜¯ä¸€ä¸ªå«å¤©æ± çš„çŸ¿æ± ã€‚</p><p>äºæ˜¯æˆ‘ç›´æ¥æŠŠè¿™ä¸ªæ–‡ä»¶å¤¹<code>rm -rf</code>äº†ï¼Œç„¶åç›´æ¥é‡å¯æœåŠ¡å™¨</p><p>æœç„¶ç—…æ¯’æ²¡æœ‰é‡å¯äº†</p><p>èŠ±äº†æˆ‘ä¸å°‘æ—¶é—´ï¼Œæ°”æ­»æˆ‘äº†ï¼Œä¸è®©æˆ‘ä¹°ç”µè„‘å°±ç®—äº†ï¼Œè¿˜æè¿™æ¡£äº‹ï¼ŒçŸ¿ä½¬éƒ½ç»™æˆ‘å»SPAã€‚</p><p>æœ€åæŠŠskypoolçš„è‡ªå¯åŠ¨åˆ é™¤äº†ï¼Œå…·ä½“çš„æˆ‘ä¹Ÿæ˜¯æŸ¥çš„</p>]]></content>
      
      
      
        <tags>
            
            <tag> æœåŠ¡å™¨ </tag>
            
            <tag> è®°äº‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>colorfulå·¥å…·</title>
      <link href="/colorful/"/>
      <url>/colorful/</url>
      
        <content type="html"><![CDATA[<h3 id="colorful"><a href="#colorful" class="headerlink" title="colorful"></a>colorful</h3><p>antd-tools/cli/index.jsé‡Œé¢æœ‰<code>require(&#39;colorful&#39;).colorful()</code></p><p>npmé‡Œæœ‰ä»‹ç»ï¼Œæ˜¯åœ¨ç»ˆç«¯é‡Œæ˜¾ç¤ºé¢œè‰²çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;colorful&#x27;</span>).colorful()</span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;colorful&#x27;</span>).isatty = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;hello&#x27;</span>.to.red.color);</span><br></pre></td></tr></table></figure><p>ç»ˆç«¯æ˜¾ç¤ºå°±æ˜¯çº¢è‰²çš„helloï¼Œå…·ä½“ç”¨æ³•æš‚æ—¶ä¸å»äº†è§£ï¼Œä½†æ˜¯å¾ˆcool</p>]]></content>
      
      
      
        <tags>
            
            <tag> AntDesignVueæºç å­¦ä¹  </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼€å§‹</title>
      <link href="/start/"/>
      <url>/start/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘å¼€å§‹æƒ³æŠŠè‡ªå·±å·¥ä½œå¸¸ç”¨çš„ç»„ä»¶å°è£…æˆä¸€ä¸ªç»„ä»¶åº“<br>äºæ˜¯å‡†å¤‡å­¦ä¹ ä¸€ä¸‹AntDesignVueçš„æºç <br>é¡ºä¾¿å·©å›ºä¸€ä¸‹vue3çš„çŸ¥è¯†<br>æ‰€ä»¥ä¸´æ—¶å¼€äº†ä¸ªHexoåšå®¢<br>è®°å½•ä¸€ä¸‹è‡ªå·±å­¦ä¹ çš„ç¬”è®°</p><p>é¡ºä¾¿å½“ä¸ªqqç©ºé—´</p><p><em>#ã‚ªãƒªã‚¸ãƒŠãƒ« Living with a hobby - ãã£ã‹çš„æ’ç”»</em></p><p><img src="/images/0721.jpg" alt="#ã‚ªãƒªã‚¸ãƒŠãƒ« Living with a hobby - ãã£ã‹çš„æ’ç”»"></p><p><a href="https://github.com/vueComponent/ant-design-vue">AntDesignVue</a><br><a href="https://github.com/ArchyInk/Archy-UI">ArchyUI</a><br><a href="https://github.com/ArchyInk/">follow</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> AntDesignVueæºç å­¦ä¹  </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
